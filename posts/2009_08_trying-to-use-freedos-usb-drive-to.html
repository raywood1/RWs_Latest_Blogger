<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml" xmlns:b="http://www.google.com/2005/gml/b" xmlns:data="http://www.google.com/2005/gml/data" xmlns:expr="http://www.google.com/2005/gml/expr">
 <head>
  <link href="https://web-static.archive.org/_static/css/banner-styles.css?v=1utQkbB3" rel="stylesheet" type="text/css"/>
  <link href="https://web-static.archive.org/_static/css/iconochive.css?v=3PDvdIFv" rel="stylesheet" type="text/css"/>
  <!-- End Wayback Rewrite JS Include -->
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="blogger" name="generator"/>
  <link href="https://web.archive.org/web/20150905161405im_/http://raywoodcockslatest.blogspot.com/favicon.ico" rel="icon" type="image/x-icon"/>
  <link href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/2009/08/trying-to-use-freedos-usb-drive-to.html" rel="canonical"/>
  <link href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/feeds/posts/default" rel="alternate" title="Ray Woodcock's Latest - Atom" type="application/atom+xml"/>
  <link href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/feeds/posts/default?alt=rss" rel="alternate" title="Ray Woodcock's Latest - RSS" type="application/rss+xml"/>
  <link href="https://www.blogger.com/feeds/3377753575825500498/posts/default" rel="service.post" title="Ray Woodcock's Latest - Atom" type="application/atom+xml"/>
  <link href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/feeds/375063945867201458/comments/default" rel="alternate" title="Ray Woodcock's Latest - Atom" type="application/atom+xml"/>
  <!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
  <title>
   Ray Woodcock's Latest: Trying to Use a FreeDOS USB Drive to Flash the BIOS via Ubuntu
  </title>
  <link href="https://web.archive.org/web/20150905161405cs_/https://www.blogger.com/static/v1/widgets/859616579-widget_css_bundle.css" rel="stylesheet" type="text/css"/>
  <link href="https://web.archive.org/web/20150905161405cs_/https://www.blogger.com/dyn-css/authorization.css?targetBlogID=3377753575825500498&amp;zx=676eec30-28b8-4a6f-966f-b626f4e3b5be" rel="stylesheet" type="text/css"/>
  <style id="page-skin-1" type="text/css">
   <!--
/*
-----------------------------------------------
Blogger Template Style
Name:     Rounders 4
Date:     27 Feb 2004
Updated by: Blogger Team
----------------------------------------------- */
/* Variable definitions
====================
<Variable name="mainBgColor" description="Main Background Color"
type="color" default="#466">
<Variable name="mainTextColor" description="Text Color" type="color"
default="#ced">
<Variable name="postTitleColor" description="Post Title Color" type="color"
default="#fff">
<Variable name="dateHeaderColor" description="Date Header Color"
type="color" default="#cf4">
<Variable name="borderColor" description="Post Border Color" type="color"
default="#bbb">
<Variable name="mainLinkColor" description="Link Color" type="color"
default="#fff">
<Variable name="mainVisitedLinkColor" description="Visited Link Color"
type="color" default="#fff">
<Variable name="titleTextColor" description="Blog Title Color"
type="color" default="#fff">
<Variable name="topSidebarHeaderColor"
description="Top Sidebar Title Color"
type="color" default="#fff">
<Variable name="topSidebarBgColor"
description="Top Sidebar Background Color"
type="color" default="#9b5">
<Variable name="topSidebarTextColor" description="Top Sidebar Text Color"
type="color" default="#fff">
<Variable name="topSidebarLinkColor" description="Top Sidebar Link Color"
type="color" default="#fff">
<Variable name="topSidebarVisitedLinkColor"
description="Top Sidebar Visited Link Color"
type="color" default="#eee">
<Variable name="bottomSidebarBgColor"
description="Bottom Sidebar Background Color"
type="color" default="#fff">
<Variable name="bottomSidebarTextColor"
description="Bottom Sidebar Text Color"
type="color" default="#666">
<Variable name="bottomSidebarLinkColor"
description="Bottom Sidebar Link Color"
type="color" default="#475">
<Variable name="bottomSidebarVisitedLinkColor"
description="Bottom Sidebar Visited Link Color"
type="color" default="#798">
<Variable name="bodyFont" description="Text Font" type="font"
default="normal normal 100% 'Trebuchet MS',Verdana,Arial,Sans-serif">
<Variable name="pageTitleFont" description="Blog Title Font" type="font"
default="normal bold 200% 'Trebuchet MS',Verdana,Arial,Sans-serif">
<Variable name="descriptionFont" description="Description Font" type="font"
default="normal normal 100% 'Trebuchet MS',Verdana,Arial,Sans-serif">
<Variable name="headerFont" description="Sidebar Title Font" type="font"
default="normal bold 100% 'Trebuchet MS',Verdana,Arial,Sans-serif">
<Variable name="postTitleFont" description="Post Title Font" type="font"
default="normal bold 135% 'Trebuchet MS',Verdana,Arial,Sans-serif">
<Variable name="startSide" description="Start side in blog language"
type="automatic" default="left">
<Variable name="endSide" description="End side in blog language"
type="automatic" default="right">
*/
body {
background:#bca;
margin:0;
text-align:center;
line-height: 1.5em;
font: x-small Trebuchet MS, Verdana, Arial, Sans-serif;
color:#e6ffa2;
font-size/* */:/**/small;
font-size: /**/small;
}
/* Page Structure
----------------------------------------------- */
/* The images which help create rounded corners depend on the
following widths and measurements. If you want to change
these measurements, the images will also need to change.
*/
#outer-wrapper {
width:740px;
margin:0 auto;
text-align:left;
font: normal normal 100% 'Trebuchet MS',Verdana,Arial,Sans-serif;
}
#main-wrap1 {
width:485px;
float:left;
background:#446666 url("https://web.archive.org/web/20150905161405im_/http://www1.blogblog.com/rounders4/corners_main_bot.gif") no-repeat left bottom;
margin:15px 0 0;
padding:0 0 10px;
color:#e6ffa2;
font-size:97%;
line-height:1.5em;
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;     /* fix for long non-text content breaking IE sidebar float */
}
#main-wrap2 {
float:left;
width:100%;
background:url("https://web.archive.org/web/20150905161405im_/http://www1.blogblog.com/rounders4/corners_main_top.gif") no-repeat left top;
padding:10px 0 0;
}
#main {
background:url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/rails_main.gif") repeat-y left;
padding:0;
width:485px;
}
#sidebar-wrap {
width:240px;
float:right;
margin:15px 0 0;
font-size:97%;
line-height:1.5em;
word-wrap: break-word; /* fix for long text breaking sidebar float in IE */
overflow: hidden;     /* fix for long non-text content breaking IE sidebar float */
}
.main .widget {
margin-top: 0;
margin-right: 13px;
margin-bottom: 4px;
margin-left: 13px;
}
.main .Blog {
margin: 0;
}
/* Links
----------------------------------------------- */
a:link {
color: #ffff66;
}
a:visited {
color: #f3ffd1;
}
a:hover {
color: #f3ffd1;
}
a img {
border-width:0;
}
/* Blog Header
----------------------------------------------- */
#header-wrapper {
background: #476 url("https://web.archive.org/web/20150905161405im_/http://www2.blogblog.com/rounders4/corners_cap_top.gif") no-repeat left top;
margin-top:22px;
margin-right:0;
margin-bottom:0;
margin-left:0;
padding-top:8px;
padding-right:0;
padding-bottom:0;
padding-left:0;
color:#ffffff;
}
#header {
background:url("https://web.archive.org/web/20150905161405im_/http://www1.blogblog.com/rounders4/bg_hdr_bot.jpg") no-repeat left bottom;
padding:0 15px 8px;
}
#header h1 {
margin:0;
padding:10px 30px 5px;
line-height:1.2em;
font: normal bold 200% 'Trebuchet MS',Verdana,Arial,Sans-serif;
}
#header a,
#header a:visited {
text-decoration:none;
color: #ffffff;
}
#header .description {
margin:0;
padding:5px 30px 10px;
line-height:1.5em;
font: normal normal 100% 'Trebuchet MS',Verdana,Arial,Sans-serif;
}
/* Posts
----------------------------------------------- */
h2.date-header {
margin-top:0;
margin-right:28px;
margin-bottom:0;
margin-left:43px;
font-size:85%;
line-height:2em;
text-transform:uppercase;
letter-spacing:.2em;
color:#ccff44;
}
.post {
margin:.3em 0 25px;
padding:0 13px;
line-height:1.5em;
border:1px dotted #bbbbbb;
border-width:1px 0;
}
.post h3 {
margin:0;
background:url("https://web.archive.org/web/20150905161405im_/http://www2.blogblog.com/rounders4/icon_arrow.gif") no-repeat 10px .5em;
display:block;
border:1px dotted #bbbbbb;
border-width:0 1px 1px;
padding-top:2px;
padding-right:14px;
padding-bottom:2px;
padding-left:29px;
color: #ffffff;
font: normal bold 135% 'Trebuchet MS',Verdana,Arial,Sans-serif;
}
.post h3 a, .post h3 a:visited {
text-decoration:none;
color: #ffffff;
}
.post h3 a:hover {
background-color: #bbbbbb;
color: #ffffff;
}
.post-body {
border:1px dotted #bbbbbb;
border-width:0 1px 1px;
border-bottom-color:#446666;
padding-top:10px;
padding-right:14px;
padding-bottom:1px;
padding-left:29px;
}
html>body .post-body {
border-bottom-width:0;
}
.post-body {
margin:0 0 .75em;
}
.post-body blockquote {
line-height:1.3em;
}
.post-footer {
background: #577;
margin:0;
padding-top:2px;
padding-right:14px;
padding-bottom:2px;
padding-left:29px;
border:1px dotted #bbbbbb;
border-width:1px;
font-size:100%;
line-height:1.5em;
color: #acb;
}
/*
The first line of the post footer might only have floated text, so we need to give it a height.
The height comes from the post-footer line-height
*/
.post-footer-line-1 {
min-height:1.5em;
_height:1.5em;
}
.post-footer p {
margin: 0;
}
html>body .post-footer {
border-bottom-color:transparent;
}
.uncustomized-post-template .post-footer {
text-align: right;
}
.uncustomized-post-template .post-author,
.uncustomized-post-template .post-timestamp {
display: block;
float: left;
text-align:left;
margin-right: 4px;
}
.post-footer a {
color: #fff;
}
.post-footer a:hover {
color: #eee;
}
a.comment-link {
/* IE5.0/Win doesn't apply padding to inline elements,
so we hide these two declarations from it */
background/* */:/**/url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/icon_comment_left.gif") no-repeat left 45%;
padding-left:14px;
}
html>body a.comment-link {
/* Respecified, for IE5/Mac's benefit */
background:url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/icon_comment_left.gif") no-repeat left 45%;
padding-left:14px;
}
.post img, table.tr-caption-container {
margin-top:0;
margin-right:0;
margin-bottom:5px;
margin-left:0;
padding:4px;
border:1px solid #bbbbbb;
}
.tr-caption-container img {
border: none;
margin: 0;
padding: 0;
}
blockquote {
margin:.75em 0;
border:1px dotted #bbbbbb;
border-width:1px 0;
padding:5px 15px;
color: #ccff44;
}
.post blockquote p {
margin:.5em 0;
}
#blog-pager-newer-link {
float: left;
margin-left: 13px;
}
#blog-pager-older-link {
float: right;
margin-right: 13px;
}
#blog-pager {
text-align: center;
}
.feed-links {
clear: both;
line-height: 2.5em;
margin-left: 13px;
}
/* Comments
----------------------------------------------- */
#comments {
margin:-25px 13px 0;
border:1px dotted #bbbbbb;
border-width:0 1px 1px;
padding-top:20px;
padding-right:0;
padding-bottom:15px;
padding-left:0;
}
#comments h4 {
margin:0 0 10px;
padding-top:0;
padding-right:14px;
padding-bottom:2px;
padding-left:29px;
border-bottom:1px dotted #bbbbbb;
font-size:120%;
line-height:1.4em;
color:#ffffff;
}
#comments-block {
margin-top:0;
margin-right:15px;
margin-bottom:0;
margin-left:9px;
}
.comment-author {
background:url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/icon_comment_left.gif") no-repeat 2px .3em;
margin:.5em 0;
padding-top:0;
padding-right:0;
padding-bottom:0;
padding-left:20px;
font-weight:bold;
}
.comment-body {
margin:0 0 1.25em;
padding-top:0;
padding-right:0;
padding-bottom:0;
padding-left:20px;
}
.comment-body p {
margin:0 0 .5em;
}
.comment-footer {
margin:0 0 .5em;
padding-top:0;
padding-right:0;
padding-bottom:.75em;
padding-left:20px;
}
.comment-footer a:link {
color: #ced;
}
.deleted-comment {
font-style:italic;
color:gray;
}
.comment-form {
padding-left:20px;
padding-right:5px;
}
#comments .comment-form h4 {
padding-left:0px;
}
/* Profile
----------------------------------------------- */
.profile-img {
float: left;
margin-top: 5px;
margin-right: 5px;
margin-bottom: 5px;
margin-left: 0;
border: 4px solid #ffffff;
}
.profile-datablock {
margin-top: 0;
margin-right: 15px;
margin-bottom: .5em;
margin-left: 0;
padding-top: 8px;
}
.profile-link {
background:url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/icon_profile_left.gif") no-repeat left .1em;
padding-left:15px;
font-weight:bold;
}
.profile-textblock {
clear: both;
margin: 0;
}
.sidebar .clear, .main .widget .clear {
clear: both;
}
#sidebartop-wrap {
background:#99bb55 url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/corners_prof_bot.gif") no-repeat left bottom;
margin:0px 0px 15px;
padding:0px 0px 10px;
color:#ffffff;
}
#sidebartop-wrap2 {
background:url("https://web.archive.org/web/20150905161405im_/http://www2.blogblog.com/rounders4/corners_prof_top.gif") no-repeat left top;
padding: 10px 0 0;
margin:0;
border-width:0;
}
#sidebartop h2 {
line-height:1.5em;
color:#ffffff;
border-bottom: 1px dotted #ffffff;
font: normal bold 100% 'Trebuchet MS',Verdana,Arial,Sans-serif;
margin-bottom: 0.5em;
}
#sidebartop a {
color: #ffffff;
}
#sidebartop a:hover {
color: #eeeeee;
}
#sidebartop a:visited {
color: #eeeeee;
}
/* Sidebar Boxes
----------------------------------------------- */
.sidebar .widget {
margin:.5em 13px 1.25em;
padding:0 0px;
}
.widget-content {
margin-top: 0.5em;
}
#sidebarbottom-wrap1 {
background: #ffffff url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/corners_side_top.gif") no-repeat left top;
margin:0 0 15px;
padding:10px 0 0;
color: #666666;
}
#sidebarbottom-wrap2 {
background:url("https://web.archive.org/web/20150905161405im_/http://www1.blogblog.com/rounders4/corners_side_bot.gif") no-repeat left bottom;
padding:0 0 8px;
}
#sidebar {
background:url("https://web.archive.org/web/20150905161405im_/http://www1.blogblog.com/rounders4/rails_side.gif") repeat-y;
}
#sidebar {
color: #666666;
}
#sidebar h2 {
color: #666666;
border-bottom: 1px dotted #666666;
margin-bottom: 0.5em;
}
#sidebar a {
color: #447755;
}
#sidebar a:hover,
#sidebar a:visited {
color: #779988;
}
.sidebar h2 {
margin:0;
padding:0 0 .2em;
line-height:1.5em;
font:normal bold 100% 'Trebuchet MS',Verdana,Arial,Sans-serif;
}
.sidebar ul {
list-style:none;
margin:0 0 1.25em;
padding:0;
}
.sidebar ul li {
background:url("https://web.archive.org/web/20150905161405im_/http://www2.blogblog.com/rounders4/icon_arrow_sm.gif") no-repeat 2px .25em;
margin:0;
padding-top:0;
padding-right:0;
padding-bottom:3px;
padding-left:16px;
margin-bottom:3px;
border-bottom:1px dotted #bbbbbb;
line-height:1.4em;
}
.sidebar p {
margin:0 0 .6em;
}
/* Footer
----------------------------------------------- */
#footer-wrap1 {
clear:both;
margin:0 0 10px;
padding:15px 0 0;
}
#footer-wrap2 {
background:#447766 url("https://web.archive.org/web/20150905161405im_/http://www2.blogblog.com/rounders4/corners_cap_top.gif") no-repeat left top;
color:#ffffff;
}
#footer {
background:url("https://web.archive.org/web/20150905161405im_/http://www.blogblog.com/rounders4/corners_cap_bot.gif") no-repeat left bottom;
padding:8px 15px;
}
#footer hr {display:none;}
#footer p {margin:0;}
#footer a {color:#ffffff;}
#footer .widget-content {
margin:0;
}
/** Page structure tweaks for layout editor wireframe */
body#layout #main-wrap1,
body#layout #sidebar-wrap,
body#layout #header-wrapper {
margin-top: 0;
}
body#layout #header, body#layout #header-wrapper,
body#layout #outer-wrapper {
margin-left:0,
margin-right: 0;
padding: 0;
}
body#layout #outer-wrapper {
width: 730px;
}
body#layout #footer-wrap1 {
padding-top: 0;
}

-->
  </style>
 </head>
 <body>
  <div class="navbar section" id="navbar">
   <div class="widget Navbar" id="Navbar1">
    <div id="navbar-iframe-container">
    </div>
   </div>
  </div>
  <div id="outer-wrapper">
   <div id="header-wrapper">
    <div class="header section" id="header">
     <div class="widget Header" id="Header1">
      <div id="header-inner">
       <div class="titlewrapper">
        <h1 class="title">
         <a href="../index.html">
          Ray Woodcock's Latest
         </a>
        </h1>
       </div>
       <div class="descriptionwrapper">
        <p class="description">
         <span>
         </span>
        </p>
       </div>
      </div>
     </div>
    </div>
   </div>
   <div id="main-wrap1">
    <div id="main-wrap2">
     <div class="main section" id="main">
      <div class="widget Blog" id="Blog1">
       <div class="blog-posts">
        <!-- google_ad_section_start -->
        <h2 class="date-header">
         Sunday, August 9, 2009
        </h2>
        <div class="post">
         <a name="375063945867201458">
         </a>
         <h3 class="post-title">
          <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/2009/08/trying-to-use-freedos-usb-drive-to.html">
           Trying to Use a FreeDOS USB Drive to Flash the BIOS via Ubuntu
          </a>
         </h3>
         <div class="post-header-line-1">
         </div>
         <div class="post-body">
          <p>
           I wanted to flash the BIOS on my Gigabyte motherboard.  I downloaded the updated BIOS from Gigabyte's website.  Now, how to flash the BIOS?

In the past, I had always used floppy drives for BIOS updates.  At this point, though, my last floppy disks were really old and I was not eager to risk BIOS corruption.  This post describes the gyrations I went through before winding up with the floppy approach after all.

To test my old floppy disk, I went to Ubuntu's Terminal utility and typed "gfloppy" and chose the Thorough formatting mode.  This gave me "Error formatting track #0."  Somebody suggested that this was because I already had the floppy inserted in the drive, so I ejected it and tried "gfloppy" again.  This gave me "Unable to access the floppy disk."  Now I inserted the floppy and clicked OK.  But no, still the same error.  Following
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://ubuntuforums.org/showpost.php?p=868832&amp;postcount=13">
            a somewhat related discussion
           </a>
           , I went to Synaptic and installed the pmount package.  In Terminal, I typed "sudo pmount -h."  That brought up some help information which told me that pmount was useful for mounting devices.  Not quite what I needed.  It seemed that there used to be a
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/https://lists.ubuntu.com/archives/ubuntu-users/2005-April/029239.html">
            Floppy Formatter
           </a>
           menu option in Ubuntu, but I wasn't finding that anymore; but then
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://www.sonoracomm.com/support/18-support/214-how-to-get-up-and-productive-quickly-with-ubuntu-804">
            it seemed
           </a>
           that this was just the fancy way of invoking gfloppy.
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://ubuntuforums.org/showpost.php?p=1169317&amp;postcount=7">
            Somebody else
           </a>
           said that Linux can't handle a completely blank floppy, and suggested using these two command lines in that case:

setfdprm -p /dev/fd0 1440/1440
fdformat /dev/fd0

The first line gave me an error indication, "The program 'setfdprm' is currently not installed.  You can install it by typing sudo apt-get install fdutils."  So I did that, and then tried these two lines again.  This time, the first line went OK, but the second line said, "Device or resource busy."  I ejected the floppy and tried again, but this time I got, "No such device or address."
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://ubuntuforums.org/archive/index.php/t-29251.html">
            David Haas
           </a>
           suggested that automount might be the problem so, following his advice, I typed "gedit /etc/fstab" and looked for the line for /dev/fd0 (i.e., for the floppy drive).  But its default was already "noauto" (he thought maybe automount was the problem, and advised setting it to noauto to prevent that), so that wasn't the solution.  But I tried what the other person said in response to his advice, which was to enter "sudo umount /dev/fd0" and then I tried again with the fdformat command (above) and, you know, it worked!

Ah, but it had occurred to me that making my BIOS update depend upon something as flaky as a floppy drive might not be the ideal approach.  Surely Gigabyte offered a way to flash the BIOS from some other kind of drive?  Yes, as it turned out, they did - but only if you were running Windows.  Since I had a double-boot system, that could be arranged.  But what about booting from a USB drive?
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://webupd8.blogspot.com/2009/04/4-ways-to-create-bootable-live-usb.html">
            Andrew provided instructions
           </a>
           on how to create a bootable Windows or Linux USB drive using
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://unetbootin.sourceforge.net/">
            UNetbootin
           </a>
           .  I decided to do that once I could find where I had put my larger USB drive (1GB minimum required).  Aside from Andrew's approach, the UNetbootin instructions looked kind of complicated.  For now, though,
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://tuxtweaks.com/2009/05/create-a-bootable-usb-drive-ubuntu-freedos/">
            as Linerd said
           </a>
           , sometimes you just need a DOS boot disk.  Following his instructions, I dedicated my smallest USB drive - a 256MB unit that had been gathering dust - to this very purpose.  Following his instructions, I plugged that USB drive into the system that was running Linux and opened System &gt; Administration &gt; Partition Editor (i.e., GParted).  In GParted, I wrote down the address of the USB drive (in my case, it was /dev/sdd1); unmounted the USB drive and formatted it to FAT16; and then I right-clicked on it (still in GParted) and, under Manage Flags, made sure the "boot" flag was checked.  Then I mounted it by double-clicking on it in Nautilus (i.e., Ubuntu's File Browser).  (Like most or all drives, it was located in File System &gt; media.)  In my case, I couldn't actually mount it until I went back into GParted, right-clicked on it, and ran a Check; then it showed up in Nautilus as "259.5 MB Media."  Now double-clicking on it in Nautilus revealed that it contained nothing.  So, back to Linerd's instructions:  I closed GParted and, from
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://odin.fdos.org/">
            the website
           </a>
           for the ultra-mini FreeDOS distribution known as Odin, I downloaded the
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://odin.fdos.org/odin2005/odin1440.img">
            odin1440.img
           </a>
           image file and copied it to the USB drive.  In Nautilus, I also copied the file called "memdisk" from File System &gt; usr/lib/syslinux to the USB drive.  Then I created a folder called "grub" on the USB drive.  I went to File System &gt; usr/lib/grub.  There, I saw that I had only one folder, called x86_64-pc.  (This was different from Linerd's example because I was running 64-bit Ubuntu.)  He told me to copy all of the files from that folder into the grub folder on the USB drive.  Next, using Ubuntu's Applications &gt; Accessories &gt; Text Editor, I created a file containing these lines:

default=0
timeout=10
root=(hd0,0)
title FreeDOS
kernel /memdisk
initrd /odin1440.img

I called that file "menu.lst" and saved it in the grub folder on the USB drive.  Then I installed grub (the program) on the USB drive.  This required, first, getting to the grub prompt by entering these two commands:

cd /media/disk
sudo grub

At the grub prompt, I then entered these commands:

grub&gt; device (hd5) /dev/sdc
grub&gt; root (hd5,0)
grub&gt; setup (hd5)
grub&gt; quit

My impression was that the first grub command would create a virtual device called hard disk no. 5, and would then install the necessary runtime programs in it.
           <a cadca03704a4c9ce622="true" href="https://web.archive.org/web/20150905161405/http://www.gentoo-wiki.info/FreeDOS_Flash_Drive">
            The Gentoo webpage
           </a>
           that Linerd drew upon had some additional information.  Anyway, with the USB drive still plugged into the computer, I rebooted, hit Del to go into my BIOS Setup, and (in the Advanced BIOS Features section) chose USB-FDD as my first boot device.  I saved the BIOS changes and rebooted.  Apparently the USB thing didn't work, because I found myself back at the usual GRUB menu.  I hit Ctrl-Alt-Del and then, on reboot, hit F12 to call up my boot menu.  (Not an option for everyone, I'm sure.)  I tried USB-FDD from here too, but still no luck.  I realized that I had copied down Linerd's instructions verbatim, and had therefore probably entered sdc (the location of his USB drive) rather than sdd1 (the location of mine, according to GParted) in the grub command (above).  So I tried again with sdd1.  That part went OK, but then, when I typed the "root (hd5,0)" line, grub said, "Error 22:  No such partition."  I took another look in GParted.  I thought maybe grub wanted "sdd" rather than "sdd1," so I tried again with that.  It accepted that, so I finished and rebooted.  It still didn't boot from the USB drive.  I rebooted and hit F12 again.  This time, instead of USB-FDD, I chose USB-CDROM.  Still not right.  I tried again with USB-ZIP.  Bingo!  This gave me a GRUB menu with FreeDOS listed as the only item.  (Later, it looked like I could also have selected USB-HDD.)  Now I had another menu, with options to load FreeDOS for 8086, 186, 286, or 386-based computers.  There were four 386 options:  with HIMEM, EMM386, XDMA, and CDROM.  I chose option 6, the last one (i.e., with all four of those programs loaded).  I got a floppy (A:\) prompt.  I typed C: and it gave me what looked like a corrupt drive directory.  I tried D: and it gave me three options in some Eastern European language.  I hit Ctrl-Alt-Del, changed the BIOS so it would always try USB-ZIP first, and let it go through its boot process.  This time, I went with option 3 rather than 6; and at the A: prompt, I typed DIR /W.  It showed me a list of DOS programs and files (e.g., XCOPY.EXE).  I typed B:.  There was no B drive.  I tried C: again.  DIR still gave me no joy.  E: gave me "Invalid drive E:."  This was different from what Linerd said:  he said his system booted with C: as the default (and working) prompt.  I rebooted again and, this time, from the FreeDOS menu, I chose the F5 ("Bypass startup files") option.  This yielded the same results as above.  Trying another reboot, I chose the F8 option and walked through each line of AUTOEXEC.BAT.  There weren't any error messages; it seemed to be booting and loading as intended.  On another try, booting the USB-HDD option didn't fix the problem.  Basically, this setup was not working for me.  Possibly the problem lay in the note that said, "ATAPICDD should be replaced by your own driver"; possibly my 64-bit system messed things up.  Either way, I had no idea what the solution would be.

At this point, I gave up on the USB drive approach.  Moreover, for some reason (probably related to the router), Windows on this machine was not able to go online.  So I went back to the floppy-based approach for flashing the BIOS.  In about two minutes, it was done.  But I would rather have had a working USB solution and avoid the risk of floppy-based flashing.
          </p>
          <div style="clear: both;">
          </div>
         </div>
         <div class="post-footer">
          <p class="post-footer-line post-footer-line-1">
           <span class="post-author">
            Posted by
raywood
           </span>
           <span class="post-timestamp">
           </span>
           <span class="post-comment-link">
           </span>
           <span class="post-icons">
            <span class="item-control blog-admin pid-1700258349">
             <a href="https://web.archive.org/web/20150905161405/https://www.blogger.com/post-edit.g?blogID=3377753575825500498&amp;postID=375063945867201458&amp;from=pencil" title="Edit Post">
              <span class="quick-edit-icon">
              </span>
             </a>
            </span>
           </span>
          </p>
          <p class="post-footer-line post-footer-line-2">
           <span class="post-labels">
            Labels:
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/bios%20update" rel="tag">
             bios update
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/flash%20the%20bios" rel="tag">
             flash the bios
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/floppies" rel="tag">
             floppies
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/floppy%20disk%20drive" rel="tag">
             floppy disk drive
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/freedos" rel="tag">
             freedos
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/ubuntu%209.04" rel="tag">
             ubuntu 9.04
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/UNetbootin" rel="tag">
             UNetbootin
            </a>
            ,
            <a href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/search/label/USB%20drive" rel="tag">
             USB drive
            </a>
           </span>
          </p>
          <p class="post-footer-line post-footer-line-3">
          </p>
         </div>
        </div>
        <div class="comments" id="comments">
         <a name="comments">
         </a>
         <h4>
          1 comments:
         </h4>
         <dl id="comments-block">
          <dt class="comment-author" id="comment-5543324468771573943">
           <a name="comment-5543324468771573943">
           </a>
           <a href="https://web.archive.org/web/20150905161405/https://www.blogger.com/profile/07886623196253807141" rel="nofollow">
            Linerd
           </a>
          </dt>
          <dd class="comment-body">
           <p>
            Ray – I should have perhaps stated things more clearly in my post. In your grub commands you should have used
            <br/>
            <b>
             grub&gt; device (hd5) /dev/sdd1
            </b>
            <br/>
            based on the device you had in GParted.
            <br/>
            <br/>
            I’ve edited my post to make it more clear. Hopefully this gets things working for you.
           </p>
          </dd>
          <dd class="comment-footer">
           <span class="comment-timestamp">
            <a href="#comment-5543324468771573943" title="comment permalink">
             August 9, 2009 at 3:24 PM
            </a>
            <span class="item-control blog-admin pid-2098989720">
             <a href="https://web.archive.org/web/20150905161405/https://www.blogger.com/delete-comment.g?blogID=3377753575825500498&amp;postID=5543324468771573943" title="Delete Comment">
              <span class="delete-comment-icon">
              </span>
             </a>
            </span>
           </span>
          </dd>
         </dl>
         <p class="comment-footer">
          <a href="https://web.archive.org/web/20150905161405/https://www.blogger.com/comment.g?blogID=3377753575825500498&amp;postID=375063945867201458" onclick="">
           Post a Comment
          </a>
         </p>
         <div id="backlinks-container">
          <div id="Blog1_backlinks-container">
          </div>
         </div>
        </div>
        <!-- google_ad_section_end -->
       </div>
       <div class="clear">
       </div>
       <div class="post-feeds">
        <div class="feed-links">
         Subscribe to:
         <a class="feed-link" href="https://web.archive.org/web/20150905161405/http://raywoodcockslatest.blogspot.com/feeds/375063945867201458/comments/default" target="_blank" type="application/atom+xml">
          Post Comments (Atom)
         </a>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>
<!--
     FILE ARCHIVED ON 16:14:05 Sep 05, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 00:15:47 Dec 28, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.674
  exclusion.robots: 0.087
  exclusion.robots.policy: 0.077
  esindex: 0.01
  cdx.remote: 5.526
  LoadShardBlock: 72.855 (3)
  PetaboxLoader3.datanode: 88.183 (4)
  load_resource: 131.536
  PetaboxLoader3.resolve: 82.13
-->
