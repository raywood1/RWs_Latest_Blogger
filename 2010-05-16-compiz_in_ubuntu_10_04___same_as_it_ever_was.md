---
layout: post
title: "Compiz in Ubuntu 10.04:  Same As It Ever Was"
date: 2010-05-16
---

<div class="post-body">
<p>Following <a href="https://web.archive.org/web/20120621134857/http://www.techsupportalert.com/content/ubuntu-tips-and-tricks.htm">Gizmo’s Freeware list of tweaks</a>, I decided to try jazzing up the visual appearance of Ubuntu 10.04 (Lucid Lynx).  To do this, I went into Ubuntu's System &gt; Preferences &gt; CompizConfig Settings Manager &gt; Desktop.  Enable Desktop Cube; disable Desktop Wall.  Unfortunately, I went on to play with Effects at the same time, and managed to halfway freeze my system.  Having wasted hours on fooling with Compiz in previous years, I rebooted and went back to System &gt; Preferences &gt; Appearance &gt; Visual Effects &gt; Normal.<br/>
<br/>
Gizmo also described a Windows 7 Aero Snap tweak in which I could drag a window to the left or right side of the screen and it would automatically fill half of the screen.  To make this work, I installed wmctrl in Synaptic.  Then, in CompizConfig &gt; General &gt; Commands, I entered these commands:<br/>
<ul><li>Command line 0:  WIDTH=`xdpyinfo | grep 'dimensions:' | cut -f 2 -d ':' | cut -f 1 -d 'x'` &amp;&amp; HALF=$(($WIDTH/2)) &amp;&amp; wmctrl -r :ACTIVE: -b add,maximized_vert &amp;&amp; wmctrl -r :ACTIVE: -e 0,0,0,$HALF,-1</li>
<li>Command line 1:  WIDTH=`xdpyinfo | grep 'dimensions:' | cut -f 2 -d ':' | cut -f 1 -d 'x'` &amp;&amp; HALF=$(($WIDTH/2)) &amp;&amp; wmctrl -r :ACTIVE: -b add,maximized_vert &amp;&amp; wmctrl -r :ACTIVE: -e 0,$HALF,0,$HALF,-1</li>
<li>Command line 2:  wmctrl -r :ACTIVE: -b add,maximized_vert,maximized_horz</li>
</ul>Then, in the “Edge Bindings” tab, I changed None to Left (for command 0), Right (for command 1), and Top (for command 2).  I opted to disable the Flip Left, Flip Right, and Flip Up actions of Desktop Wall.  I wasn’t sure what that would mean.  I clicked Back &gt; General &gt; General Options &gt; General tab &gt; Edge Trigger Delay = 500 &gt; press Tab button &gt; Back &gt; Close.  The way this actually worked, as I quickly found, was that whatever window was highlighted at the moment would go to the edge of the screen where I put the cursor.  Nice, but it kept the left panel from coming up (since I had set it to Auto-Hide), and then it made the bottom panel go to the top.<br/>
<br/>
It all felt pretty flaky.  Since I couldn’t get back into the left panel I had to restart the system again.  Or, correction, the only button that worked was the Shut Down, so I did that, and then rebooted.  When the system came back up, the bottom panel was back in place, but I still could not open the left panel to get into System &gt; Preferences and make changes to Compiz etc.  Following <a href="https://web.archive.org/web/20120621134857/http://ubuntuforums.org/showpost.php?p=8723086&amp;postcount=2">howefield’s advice</a>, I hit Alt-F2, typed “gconf-editor” (I could also have typed gnome-terminal if I’d wanted Terminal) and went to /apps/panel/toplevels/top_panel_screen0 and unchecked auto_hide.  I closed that, went back into Compiz Commands, and clicked the brush or broom icon at the left to remove each of those three commands.  I went into Synaptic and removed wmctrl.  I set the left panel back to Auto-Hide.  It would not come up again.  I restarted the system.<br/>
<br/>
The restart option worked this time, at least to the point of taking me to the Ubuntu screen and then freezing.  Eventually, I punched the computer’s reset button.  I tried again with the left panel.  This time, I just turned off its Auto-Hide option and didn’t turn it back on.  I wondered if System &gt; Administration &gt; Update Manager would somehow fix this.  I ran a check for updates and got an indication that there were 21 of them.  I installed those and tried restarting the computer again.  This time, restart worked without having to punch the reset button.  I went back into Appearance &gt; Visual Effects and set it to “None” rather than “Normal” or “Extra.”  I changed the properties of the left panel to Autohide again.  Now it would hide and unhide without a problem.  I went back into Visual Effects and tried the Normal setting.  It said, “Searching for available drivers.”  I opted to keep the settings.  I closed out of that and tried the panel again.  So, back in gconf-editor, I turned off Autohide again to make the panel visible; I went into Visual Effects and set it back to None; and now the panel was back.  So, OK, Compiz had screwed up the Normal setting so that I had to use the None option; but with the None option, everything seemed to be working acceptably.<br/>
<br/>
That took care of this problem.  If the panel had still not worked, Howefield also <a href="https://web.archive.org/web/20120621134857/http://ubuntuforums.org/showpost.php?p=8724598&amp;postcount=5">offered the option</a> of resetting the panels to the original default, which would have required me to reconstruct the way I had set them up.  Moral of the story, for me, on this work-oriented system, was to continue to avoid Compiz special effects.</p>
<div style="clear: both;"></div>
</div>

---
### Comments
