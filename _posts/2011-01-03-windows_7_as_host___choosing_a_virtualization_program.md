---
layout: post
title: "Windows 7 as Host:  Choosing a Virtualization Program"
date: 2011-01-03
---

<div class="post-body">
<p>I had previously used VMware Workstation to run Windows XP in a virtual machine (VM) on Ubuntu Linux.  Now I was switching from Ubuntu to Windows 7.  I had found that WinXP was actually more stable in a VM than when running natively.  I also didn't want to go cold-turkey from WinXP; that is, I wanted to continue to have access to my familiar programs and other arrangements until Win7 felt natural.<br/>
<br/>
I couldn't use my Linux-based copy of Workstation on Win7, so I would have to come up with a new virtualization tool.  I didn't want to shell out for another copy of Workstation.  I wondered if there were good free alternatives that would let me run WinXP in a VM on Win7.  I did <a href="https://web.archive.org/web/20151205114413/http://www.google.com/search?num=50&amp;hl=en&amp;lr=&amp;newwindow=1&amp;client=firefox-a&amp;hs=p4M&amp;rlz=1R1GGLL_en___US408&amp;tbs=qdr%3Ay&amp;q=comparison+%22Windows+7%22+VirtualBox+%22Virtual+PC%22+VMware&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=&amp;gs_rfai=">a search</a>, viewed some random remarks, and came up with some comparisons of several leading virtualization products.  These comparisons confirmed my sense that the main free contenders were <a href="https://web.archive.org/web/20151205114413/http://www.microsoft.com/windows/virtual-pc/">Microsoft Virtual PC</a>, <a href="https://web.archive.org/web/20151205114413/http://www.virtualbox.org/">Sun Virtual Box</a>, and <a href="https://web.archive.org/web/20151205114413/http://www.vmware.com/products/player/">VMware Player</a>.<br/>
<br/>
Looking first at comparisons against Virtual PC, <a href="https://web.archive.org/web/20151205114413/http://www.brighthub.com/computing/windows-platform/articles/97789.aspx">one reviewer</a> suggested that Virtual PC was easiest for a purely Windows setup like mine, Virtual Box was more oriented toward Linux hosts, and Player was the most popular.  <a href="https://web.archive.org/web/20151205114413/http://www.brighthub.com/computing/smb-security/articles/47775.aspx">Another reviewer</a> said that VirtualBox and VMware Workstation (not necessarily Player) had more advanced customization options, such as unity mode, snapshots, USB drive support, the ability to move VMs, and the option of allocating two CPU cores.  <a href="https://web.archive.org/web/20151205114413/http://www.sysprobs.com/virtual-pc-2007-virtualbox-32">Another reviewer</a>, comparing VirtualBox and Virtual PC, found that Virtual PC had the advantage of presumably greater Microsoft compatibility, better disk technology, a free WinXP license, support for Win7 and Vista guests, lower resource consumption on host, and easier physical drive configuration.  He favored VirtualBox nonetheless, though, because he found that VirtualBox supported more operating systems (especially Linux and Mac), supported 64-bit guests and multiple processor cores (i.e., better performance) as well as multiple kinds of virtual disks, and offered snapshots, unity mode, remote display, and 3D support.  <a href="https://web.archive.org/web/20151205114413/http://www.vistaclues.com/microsoft-virtual-pc-vs-sun-virtualbox/">Another reviewer</a>, offering a video demonstration, said Virtual PC was better in supporting Aero, automatic login, USB device sharing, and integration into Windows Explorer (which he actually disliked), but favored VirtualBox for running on multiple operating systems and for other reasons stated by some of the other reviewers.  In short, there seemed to be some consensus that Virtual PC was the worst of the three.  I did a quick search to see if perchance Microsoft had upgraded it recently.  It didn't seem to have done so.<br/>
<br/>
At about this point, I realized that probably I could continue to use my copy of VMware Workstation for Linux to make virtual machines containing WinXP, and use those in Player on a Win7 host.  So I wasn't sure if I should be comparing VirtualBox against VMware Player or Workstation.  I found both sorts of comparisons.  In what were probably the most professional reviews I saw, PCMag rated <a href="https://web.archive.org/web/20151205114413/http://www.pcmag.com/article2/0,2817,2158154,00.asp?tab=FullReview">Workstation 6.0</a> (I was now using 7.1) at 4.5 stars, versus 3.5 for <a href="https://web.archive.org/web/20151205114413/http://www.pcmag.com/article2/0,2817,2368593,00.asp">Virtual Box</a>.  (At this writing, Workstation was <a href="https://web.archive.org/web/20151205114413/http://store.vmware.com/store?Action=DisplayPage&amp;Env=BASE&amp;Locale=en_US&amp;SiteID=vmware&amp;id=ProductDetailsPage&amp;productID=221027300">on sale</a> for $142 (with a free copy of VMware ThinApp Starter Edition thrown in) instead of its usual $189.)  One of <a href="https://web.archive.org/web/20151205114413/http://www.brighthub.com/computing/smb-security/articles/47775.aspx">the reviewers</a> cited above encountered freezes in VirtualBox, and found that Workstation was the best performer.  She reported large differences in size between Workstation (~500MB) and the other two (~40MB), presumably reflecting more sophistication but also more resource demands in the former.  <a href="https://web.archive.org/web/20151205114413/http://www.sysprobs.com/virtualbox-316-vmware-player-3-desktop-virtualization-software">Another reviewer</a> also compared VirtualBox against VMware Player.  He found VirtualBox faster in the guest, less burdensome for the host, and better in snapshots; but inferior in networking, and in support for Windows Aero, USB, 64-bit CPUs, and hardware virtualization.  <a href="https://web.archive.org/web/20151205114413/http://www.sysprobs.com/8-advantages-sun-virtualbox-vmware-workstation">Another reviewer</a> favored VirtualBox because (s/he claimed) it was free, open source, more frequently patched, used fewer resources, ran faster, resumed faster, and was able to use its competitor's VMs.  The remark (above) that VirtualBox was more oriented toward Linux hosts was echoed in <a href="https://web.archive.org/web/20151205114413/http://raywoodcockslatest.blogspot.com/2010/07/using-vmware-workstation-time-to-try.html">my own previous look</a> at VirtualBox, where I cited a source indicating that VIrtualBox did far better in Linux hosts.<br/>
<br/>
It seemed that VMware was ahead of the game or at least a solid contender in most ways, but that it was not a clear and obvious winner, especially when price was considered.  Having already played with VirtualBox a bit, and having learned VMware's approach, it seemed that I should start with whatever I could pull together from Workstation and Player.  If I ran into performance issues with a Windows host as I had with an Ubuntu host, maybe then it would be time -- especially before investing another $140-190 in VMware -- to give VirtualBox a more extended look, and that might also be true if I reached the point of having to build another WinXP VM from scratch.  I could do that in VirtualBox, and in that event might find it a relatively problem-free alternative.<br/>
<br/>
Before proceeding to try VMware Player in a Windows host with my existing VMware VMs that I had created using Workstation on a Linux host, I looked into the recollection that VMware Server was also free.  Posts in <a href="https://web.archive.org/web/20151205114413/http://forums.whirlpool.net.au/archive/591605">one thread</a> said that Server could create VMs too, but was not as fast as Player and did not have as many capabilities for an already existing VM.  I found <a href="https://web.archive.org/web/20151205114413/http://www.easyvmx.com/easyvmx.shtml">EasyVMX.com</a> and gathered that there were <a href="https://web.archive.org/web/20151205114413/http://www.google.com/search?num=50&amp;hl=en&amp;lr=&amp;newwindow=1&amp;client=firefox-a&amp;rlz=1R1GGLL_en___US408&amp;tbs=qdr%3Ay&amp;q=create+virtual+%22virtual+machine%22+OR+VM+%22Windows+host%22+-intitle%3AVMware+-intitle%3AUbuntu+-intitle%3ALinux+-intitle%3AMac&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=&amp;gs_rfai=">other ways</a> to make VMs as well, though there didn't seem to be a point in doing so unless if I had been short of system resources to run Server.<br/>
<br/>
I discovered at this point that VMware offered another free virtualization product, called the VMware vSphere Hypervisor, or <a href="https://web.archive.org/web/20151205114413/http://www.vmware.com/products/vsphere-hypervisor/index.html">ESXi</a> for short.  This one differed from the others in being a "bare metal" hypervisor -- that is, not requiring a host at all.  In other words, I would install this first, before installing the operating system, and then I could install one or more operating systems, each in its own VM, without devoting resources to non-virtualization services being provided by the host (though it began to sound like ESXi would only run one operating system at a time).  In the long run, this sort of thing could be the end of dual-booting, and I could have Ubuntu, Win7, WinXP, and any other operating systems ready to run as needed, including those already packaged in <a href="https://web.archive.org/web/20151205114413/http://www.petri.co.il/virtual_top_5_free_vmware_appliances.htm">free VMware appliances</a>.  ESXi was said to offer <a href="https://web.archive.org/web/20151205114413/http://en.wikipedia.org/wiki/VMware#Server_software">better performance</a> than Server.  It wasn't clear that it could be made to work on a PC as distinct from a dedicated server, though.  VMware's <a href="https://web.archive.org/web/20151205114413/http://www.vmware.com/resources/compatibility/search.php?action=base&amp;deviceCategory=server">Hardware Compatibility Guide</a> was not going to provide information for my puny little AMD Athlon (as distinct from Opteron or Xeon) CPU.  <a href="https://web.archive.org/web/20151205114413/http://searchvmware.techtarget.com/news/article/0,289142,sid179_gci1390561_mem1,00.html?ShortReg=1&amp;mboxConv=searchVMware_RegActivate_Submit&amp;">Another source</a> made it sound like a home PC could run it, though.  Managing ESXi seemed to be the sticking point; for example, VMware's <a href="https://web.archive.org/web/20151205114413/http://www.vcritical.com/2009/02/new-vmware-esxi-management-kit/">ESXi Management Kit</a> cost $995.  <a href="https://web.archive.org/web/20151205114413/http://robertbchase.blogspot.com/2009/02/easy-vmware-esxi-management-with-veeam.html">Veeam</a> offered a free ESXi manager, but there appeared to be a network administrator type of learning curve involved here.  Some people seemed to be using a minimal <a href="https://web.archive.org/web/20151205114413/http://communities.vmware.com/message/1039303">Linux to manage it</a>.  It also sounded like there might be <a href="https://web.archive.org/web/20151205114413/http://www.windowsitpro.com/article/interoperability/vmware-esxi101039.aspx">an ESXi manager</a> within ESXi itself.  <a href="https://web.archive.org/web/20151205114413/http://www.vmware.com/files/pdf/vmware_esxi_management_wp.pdf">Apparently</a> part of the reason Server was slower was that it was more user-friendly.  <a href="https://web.archive.org/web/20151205114413/http://www.vmware.com/products/vsphere-hypervisor/index.html">The purpose</a> of the free ESXi seemed to be to get new system administrators into the VMware world and ready to upgrade to more powerful VMware server products.  Apparently there were ways to run <a href="https://web.archive.org/web/20151205114413/http://www.google.com/search?q=ESXi+%22on+a+PC%22+OR+%22in+WIndows+7%22+OR+%22on+Windows+7%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;client=firefox-a&amp;rlz=1R1GGLL_en___US408">ESXi in Workstation</a> in Windows 7, but this seemed like the opposite of a bare-metal approach.  Basically, I liked the idea of a bare-metal hypervisor, but the sparse results I was getting on <a href="https://web.archive.org/web/20151205114413/http://www.google.com/search?q=%22ESXi+for+home%22+OR+%22ESXi+for+a+home%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;client=firefox-a&amp;rlz=1R1GGLL_en___US408">my searches</a> told me that I was looking into something that was not happening for end users, at least not yet.  It <a href="https://web.archive.org/web/20151205114413/http://opensourcegeek.org/2009/11/23/hypervisor-shootout/">could be done</a>, but servers remained something that other people used for <a href="https://web.archive.org/web/20151205114413/http://arstechnica.com/phpbb/viewtopic.php?f=21&amp;t=39731">other purposes</a>.<br/>
<br/>
I wasn't quite ready to give up on the idea of a bare-metal hypervisor for home use, so I did <a href="https://web.archive.org/web/20151205114413/http://www.google.com/search?q=%22bare-metal+hypervisor%22+%22home+pc%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;client=firefox-a&amp;rlz=1R1GGLL_en___US408">another search</a>.  <a href="https://web.archive.org/web/20151205114413/http://searchvirtualdesktop.techtarget.com/tip/Bare-metal-hypervisors-not-just-for-servers-anymore">Brad Maltz</a> gave me a nice chart to compare the options.  His bottom line:  "You can expect plenty of hurdles and years for perfecting this technology, but the client-side hypervisor is the catalyst to many greater things to come."  My goal for the coming months, it seemed, would be to continue to focus on the usual multi-layered host-virtualization-guest scenario.  For that purpose, I would start with VMware Player and my existing VMs.  If I needed to adjust them, I would try to do so in either Workstation for Linux or Server.  If I had to build a new VM, I would consider doing it in VirtualBox as an alternative to Workstation or Server.</p>
<div style="clear: both;"></div>
</div>

---
### Comments
**raywood**:
Having decided to stay with VMware if possible, I made a further discovery when VMware responded to an email question I had sent them just before the new year holiday.  They said that I would be able to use my Workstation license in Workstation for Windows if I was not using it in Workstation for Linux.  If that worked out, I would probably use Workstation rather than Player, at least to start.

