---
layout: post
title: "Ubuntu 10.04 Adjustments:  Software Source List"
date: 2010-05-13
---

<div class="post-body">
<p><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">I was <a href="https://web.archive.org/web/20190906053702/http://raywoodcockslatest.blogspot.com/2010/05/tweaking-ubuntu-1004.html">making some adjustments</a> to my Ubuntu 10.04 (Lucid Lynx) installation.  I got kind of bogged down in the Software Sources.  This post describes that part of the enterprise.</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">When I went into Software Sources &gt; Other Software, I now had a whole boatload of items, most of which were marked "disabled on upgrade to lucid."  To handle this, I tried <a href="https://web.archive.org/web/20190906053702/http://ubuntu-tweak.com/">Ubuntu Tweak</a>.  It was an easy download, double-click to install.  I went into Applications &gt; System Tools to run it.  Then I went down the list of applications and other items on the left side of its window and selected and adjusted them to taste.  I found that I had to exit Ubuntu Tweak and start it again in order to get <a href="https://web.archive.org/web/20190906053702/http://blog.ubuntu-tweak.com/2010/04/30/ubuntu-tweak-0-5-4-released-hello-ubuntu-lucid.html">the prompt</a> that would re-enable my disabled Software Sources.</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">In Software Sources &gt; Other Software, I noticed several things that didn't look quite right.  First, the "Cdrom with Ubuntu 9.10 'Karmic Koala'" was unchecked.  This made sense; I wasn't running 9.10 anymore.  I selected that item and clicked Remove.  I thought I'd put the new CD in its place.  I had installed 10.04 via download, not via CD, but in <a href="https://web.archive.org/web/20190906053702/http://raywoodcockslatest.blogspot.com/2010/05/upgrading-to-ubuntu-1004-lts.html">the process of fixing</a> the installation I had downloaded and burned the alternate installation CD.  So now I put that into the CD drive and clicked on Add CD-ROM.  It gave me this:</div><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Upgrade volume detected</div></blockquote><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">A distribution volume with software packages has been detected.</div></blockquote><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Would you like to try to upgrade from it automatically?</div></blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">It <a href="//web.archive.org/web/20190906053702/https://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;safe=off&amp;client=firefox-a&amp;hs=tsS&amp;rlz=1R1GGGL_en___US333&amp;q=%22distribution+volume+with+software+packages+has+been+detected%22+10.04&amp;btnG=Search">looked like</a> the answer to that should be no, so I clicked Cancel.  Then I had another error:</div><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Error scanning the CD</div></blockquote><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">E:Unable to locate any package files, perhaps this is not a Debian disc or the wrong architecture?</div></blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Apparently the Alternative CD was more different from the ordinary Ubuntu CD than I had realized.  I was curious, so I <a href="https://web.archive.org/web/20190906053702/http://www.ubuntu.com/getubuntu/download">downloaded</a> and burned the official 10.04 CD.  While that was underway, I went to the next problem item on the Software Sources list:  “Unsupported updates.”  The common advice, repeated on <a href="//web.archive.org/web/20190906053702/https://www.google.com/search?q=%22unsupported+updates%22+10.04+%22software+sources%22+%22probably+don't+need+or+even+want%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;client=firefox-a&amp;rlz=1R1GGGL_en___US333">a number of websites</a> that seemed to have copied it from one another, was that this would give me programs that I “probably don’t need or even want.”  <i>Au contraire</i>, I was thinking that a person would enable this kind of source to get access to <a href="//web.archive.org/web/20190906053702/https://www.google.com/search?q=%22unsupported+updates%22+10.04+%22enable+unsupported+updates%22&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;client=firefox-a&amp;rlz=1R1GGGL_en___US333">solutions to new problems</a> as soon as they were discovered.  But for purposes of stability, for now, until I needed them, I decided to go with the flow and leave them unchecked.</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Next, I saw that some items were marked as "disabled on upgrade to lucid."  <a href="https://web.archive.org/web/20190906053702/http://blog.ubuntu-tweak.com/2010/04/30/ubuntu-tweak-0-5-4-released-hello-ubuntu-lucid.html">According to TualatriX</a>, Ubuntu Tweak &gt; Applications &gt; Source Center would enable only those that supported Lucid.  I’m not sure what happened to this particular category of problem; I played around with a couple of things and these went away.  Next, some of the titles were not right.  In particular, I saw this:</div><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Medibuntu – Ubuntu 9.10 “karmic koala” (http://packages.medibuntu.org/ lucid free non-free)</div></blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">I didn’t seem to find advice on exactly this problem, so I just selected that item in Software Sources, clicked Edit, and changed the Comment to “Medibuntu – Ubuntu 10.04 ‘lucid lynx.’”  These tinkerings led me to <a href="https://web.archive.org/web/20190906053702/http://ubuntuguide.org/wiki/Ubuntu:Lucid#Manually_add_repositories">the revelations</a> that “Mixing repositories can break your system,” and that I should have made a backup of my list of sources before I started fooling around.  The backup, it seemed, could be made with this command:</div><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">sudo cp -i /etc/apt/sources.list /etc/apt/sources.list_backup</div></blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">This made me think that I could work up a good source list once and then not have to start from scratch like this in the future.  I had already modified the sources list in Ubuntu Tweak, but now I thought I might want to start over.  I got out of Software Sources and typed “sudo gedit /etc/apt/sources.list” in Terminal.  I copied the sources.list file suggested in the <a href="https://web.archive.org/web/20190906053702/http://ubuntuguide.org/wiki/Ubuntu:Lucid#Manually_add_repositories">Ubuntu Guide wiki</a> and used that to replace the contents of sources.list.  The two were pretty much the same anyway, but I thought this might clean things up a bit.  I saved and exited sources.list and went back into Software Sources.  Oddly, it still had some of the items that I had added in Ubuntu Tweak.  I went back into sources.list and, no, those other items (e.g., Skype) had definitely not been added to sources.list when I wasn’t looking.  Evidently Ubuntu Tweak was maintaining its own list of software sources and was using that to supplement whatever was in sources.list.  In Software Sources, I cleaned up the list (added comments, deleted duplicates) and then clicked Close.  It gave me the option to Reload, which I did.  Now I got an error message:</div><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Could not download all repository indexes</div></blockquote><blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">The repository may no longer be available or could not be contacted because of network problems.</div></blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">This applied to the CD-ROM line I had copied over from the wiki.  I closed that dialog.  The CD ISO was still downloading, so I couldn’t do anything more about that yet.  In the meantime, I went back into Ubuntu Tweak &gt; Source Center &gt; All Categories &gt; Unlock.  Sources that I had selected previously were still checked, so UT did seem to be saving its own list somewhere.  I refreshed, got the CD-ROM error message again, closed that, installed new applications implied by my selection of sources, and then exited.  Trying another approach, I went to the <a href="https://web.archive.org/web/20190906053702/http://repogen.simplylinux.ch/">Ubuntu Sources List Generator</a> and selected all of the repositories I would want.  I excluded source code repositories, since I did not plan to be working with source code.  I clicked “Generate List.”  It gave me a replacement sources.list file, plus a list of commands to run to get the keys necessary to make the sources work; but it also looked like those commands were listed in the comments in the sources.list file too.  I looked again at Ubuntu Tweak.  It had a much longer list of sources, but I thought I could probably do without some.  In particular, I didn’t know if I needed a source just for some individual programs.  One, "déjà vu dup," was supposed to be a simple backup utility.  It was listed in Synaptic and would presumably be updated through there.  I hadn’t used it before, but I thought I would give it a try.  Likewise for Firefox, Opera, Shutter, deluge-torrent, and others.  The list generated by Ubuntu Sources List Generator did include Google, Medibuntu, and other major sources.  So I unchecked all of the sources in Ubuntu Tweak, including the Ubuntu Tweak source itself.  Then I took another look at sources.list, in the form I had copied from the wiki.  It was much more verbose than the one generated by the Ubuntu Sources List Generator, and now that I understood more about it, I didn’t want all those extra comments.  In the end, I decided that all I needed from the sources.list file that I had copied from the wiki was the first line, referring to the Ubuntu 10.04 CD-ROM.  So I replaced the existing sources.list with this one, provided by the List Generator:</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#############################################################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>################### OFFICIAL UBUNTU REPOS ###################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#############################################################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb cdrom:[Ubuntu 10.04 LTS _Lucid Lynx_ - Release i386 (20100429)]/ lucid main restricted</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>###### Ubuntu Main Repos</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://us.archive.ubuntu.com/ubuntu/ lucid main restricted universe multiverse </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>###### Ubuntu Update Repos</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://us.archive.ubuntu.com/ubuntu/ lucid-security main restricted universe multiverse </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://us.archive.ubuntu.com/ubuntu/ lucid-updates main restricted universe multiverse </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>###### Ubuntu Partner Repo</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://archive.canonical.com/ubuntu lucid partner</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb-src http://archive.canonical.com/ubuntu lucid partner</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>##############################################################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>##################### UNOFFICIAL  REPOS ######################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>##############################################################</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>###### 3rd Party Binary Repos</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### GetDeb - http://www.getdeb.net</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: wget -q -O- http://archive.getdeb.net/getdeb-archive.key | sudo apt-key add -</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://archive.getdeb.net/ubuntu lucid-getdeb apps</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### Google Linux Software Repositories - http://www.google.com/linuxrepositories/index.html</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: wget -q https://dl-ssl.google.com/linux/linux_signing_key.pub -O- | sudo apt-key add -</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://dl.google.com/linux/deb/ stable non-free</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### HandBrake - http://handbrake.fr/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 62D38753</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://ppa.launchpad.net/handbrake-ubuntu/ppa/ubuntu lucid main </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### Medibuntu - http://www.medibuntu.org/ </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: sudo apt-get update &amp;&amp; sudo apt-get install medibuntu-keyring &amp;&amp; sudo apt-get update </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://packages.medibuntu.org/ lucid free non-free </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### Mendeley Desktop - http://www.mendeley.com/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: no gpg keys supplied</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://www.mendeley.com/repositories/xUbuntu_10.04 /</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### muCommander - http://www.mucommander.com/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: sudo wget -O - http://apt.mucommander.com/apt.key | sudo apt-key add - </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://apt.mucommander.com stable main non-free contrib  </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### Ubuntu Tweak - http://ubuntu-tweak.com/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 0624A220</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://ppa.launchpad.net/tualatrix/ubuntu lucid main</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### Wine - https://launchpad.net/~ubuntu-wine/+archive/ppa/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command:  sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys F9CB8DB0</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://ppa.launchpad.net/ubuntu-wine/ppa/ubuntu lucid main</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i><br/>
</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>#### X Updates - https://launchpad.net/~ubuntu-x-swat/+archive/x-updates/</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>## Run this command: sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys AF1CDFA9</i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><i>deb http://ppa.launchpad.net/ubuntu-x-swat/x-updates/ubuntu lucid main </i></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">With that as my new sources.list file, I went back into Software Sources.  The entries that had been added previously were still there, along with the new ones listed in my new sources.list file.  I deleted the old ones and closed.  It asked if it should reload, and I said yes.  It said, "Could not download all repository indexes," because I had not yet entered the commands shown in the sources.list (above).  So I entered them, one at a time.  Some just gave me OK; some gave me other messages and then OK; some seemed to have problems.  I went to System &gt; Administration &gt; Update Manager and updated programs.    When it was done, I clicked the Check button.  It again said "Could not download all repository indexes" and "Please use apt-cdrom to make this CD-ROM recognized by APT."  It also said, "Some index files failed to download, they have been ignored, or old ones used instead."  For the CD-ROM, I went into System &gt; Administration &gt; Software Sources &gt; Other Software and clicked the Add CD-ROM button.  I inserted the CD.  It said, "A volume with software packages has been detected."  I didn't want to install anything from the CD-ROM now, so I canceled out of that.  When I clicked Close, I was again given an opportunity to Reload, which I took.  I clicked Check again in Update Manager.  That was apparently the only thing I had needed to fix; there were no errors now.  Back in Software Sources, I saw that I had two entries for the CD-ROM.  I looked again at sources.list.  It had added a duplicate of the CD-ROM line, but it put it as the very first line, not lower down under the "OFFICIAL UBUNTU REPOS" heading as shown above.  So I deleted the one (under that heading), saved sources.list, and took another look in Software Sources.  There was now just one CD-ROM.  I made a trivial change and tried to close; I took the Reload option; all was good.  I saved a copy of the revised sources.list file, for use in this or other computers.  It was time to return to <a href="https://web.archive.org/web/20190906053702/http://raywoodcockslatest.blogspot.com/2010/05/tweaking-ubuntu-1004.html">the main project</a> of updating Ubuntu 10.04.</div></p>
<div style="clear: both;"></div>
</div>

---
### Comments
