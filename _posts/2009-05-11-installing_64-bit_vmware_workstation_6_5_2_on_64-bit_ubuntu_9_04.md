---
layout: post
title: "Installing 64-bit VMware Workstation 6.5.2 on 64-bit Ubuntu 9.04"
date: 2009-05-11
---

<div class="post-body">
<p>In 2008, I had gone through <a href="https://web.archive.org/web/20190906053803/http://raywoodcockslatest.blogspot.com/2008/09/ubuntu-and-vmware-summary-for-now.html">quite an ordeal</a> to install VMware 6 on 64-bit Ubuntu.  What a difference a year makes!  By now, VMware was now up to 6.5.2, and Ubuntu was up to 9.04.  Also, I had a much better idea of what I was doing.  The installation was vastly easier as a result.

After installing and configuring Ubuntu, I downloaded <a href="https://web.archive.org/web/20190906053803/http://www.vmware.com/download/ws/">the latest version of 64-bit Workstation</a> in .bundle form, copied it to /home/ray (where "ray" was my username), and installed by navigating to that location in Terminal and typing "sudo sh [filename].bundle."  In this case, the filename was VMware-Workstation-6.5.2-156735.x86_64.bundle.  (<filename>To uninstall, go to /home/[username] and type "sudo ./[filename].bundle -uninstall."   Stop after the uninstallation portion of the program sequence.)  I skipped the "Path to Eclipse directory" option.  The installer ran.  I got "Installation was successful."

To configure Workstation, I typed "sudo /usr/bin/vmware."  This opened Workstation as root administrator.  I was then able to set Edit &gt; Preferences.

The next step was to set up virtual machines (VMs).  I had two sources of VMs.  First, I had a Windows XP installation that I wanted to convert to a VM.  I had been using this installation every day for several weeks and had installed a bunch of software on it.  Also, I had been having some weird freezes in Adobe Acrobat, and I wanted to see whether these were caused by the hardware on that particular computer.  I figured that if I didn't get the crashes when I ran Acrobat on virtual hardware in a VM, then the physical hardware probably was the culprit.  Second, I had some preexisting VMs that I had been using on my previous VMware installation.  They had</filename> worked reliably<filename>, and they were also quite a bit smaller (and would therefore load and back up faster) than the 35GB I had allocated for this latest installation.

So, first, to convert that WinXP installation, I booted into Windows, and downloaded, installed, and ran the latest version of <a href="https://web.archive.org/web/20190906053803/http://www.vmware.com/download/converter/">VMware Converter</a>.  (At this point, that version was 4.0.0.)  In this version, I clicked on "Convert Machine" to run it.  The first time through, I then ran "Configure Machine" to make it bootable; but I don't believe I did run it when I tried again a second time.  In both instances, I indicated that I was talking about VMware Workstation, not a VMware Infrastructure VM.

In case it is indeed necessary to run the Configure Machine process, here are the steps in that processs.  Configure Machine brought me a message that I needed Sysprep files.  These came in different versions, depending on whether the computer had been updated for XP <a href="https://web.archive.org/web/20190906053803/http://www.microsoft.com/downloads/details.aspx?familyid=3E90DC91-AC56-4665-949B-BEDA3080E0F6&amp;displaylang=en">Service Pack (SP) 2</a> or <a href="https://web.archive.org/web/20190906053803/http://www.microsoft.com/downloads/details.aspx?familyid=673A1019-8E3E-4BE0-AC31-70DD21B5AFA7&amp;displaylang=en">SP3</a>.  (They were supposedly also available on the CD at \Support\Tools\deploy.cab.  If you use the CD, remove it before proceeding with the following steps.)  I had installed SP3, so I used <a href="https://web.archive.org/web/20190906053803/http://support.microsoft.com/kb/302577">the instructions</a> for that service pack.  For my purposes, the steps to install the Sysprep files were as follows:
</filename><blockquote></blockquote><blockquote>(1)  Save a copy of deploy.cab on the hard drive, so I wouldn't have to look for it if I didn't like my first VM and needed to recreate it.

(2) Double-click on deploy.cab to open it up.  (A .cab is a "cabinet," i.e., storage, file.)

(3) Copy its files named sysprep.exe and setupcl.exe to a folder named C:\Sysprep.

(4) In C:\Sysprep, double-click on sysprep.exe.  Select "Don't reset grace period for activation" and set Shutdown mode to "Shut down."  Then click Reseal.  This should give you a "Sysprep is working" message.  It didn't work right for me the first time, but after rebooting it did its deed in just a few seconds.
</blockquote><filename>On the second run-through, </filename>I rebooted into Ubuntu, <filename>then continued with the following steps.  I started Nautilus as root (i.e., "sudo nautilus") and changed the permissions (right-click &gt; Properties) of the /home/ray/.vmware folder so that the user named ray (as distinct from root) had permission to create and delete files in that folder.  Then I started the VM, but I got "Error:  Cannot open file '/home/ray/.vmware/preferences': Permission denied.  Unable to read user preferences."

Fortunately, time heals all wounds.  When I came back to the installation process at this point, a couple of weeks had gone by and I really had no idea what I was doing previously, but I could see that problem just described seemed to have gone away.  So if this happens to you, the recommended solution would be to put your computer in a closet and go on vacation.

When I got back to it, I had a new problem.  The problem was that my CNN news report <a href="https://web.archive.org/web/20190906053803/http://ubuntuforums.org/showthread.php?t=1174409">videos weren't playing</a>.  For this, the recommended solution was to install 64-bit Adobe Flash Player.  I followed <a href="https://web.archive.org/web/20190906053803/http://news.softpedia.com/news/How-to-Install-Adobe-Flash-Player-64-bit-on-Ubuntu-8-10-98076.shtml">the instructions</a> to download that.   It was a tar.gz file, and this time, instead of using the "</filename>tar -zxf filename.tar.gz" command that I had <a href="https://web.archive.org/web/20190906053803/http://raywoodcockslatest.blogspot.com/2008/09/ubuntu-and-vmware-multimedia.html">used previously</a>,  I tried  right-clicking and selecting "Open with Archive Manager."  (Not sure if that option had existed in prevous versions of Ubuntu.)  This showed me a file called libflashplayer.so.  I right-clicked and extracted it to the desktop.  I used Synaptic to completely uninstall nsplugin.  In File Browser (Nautilus), I enabled "Show hidden files" and moved libflashplayer.so to the .mozilla/plugins folder in my Home directory.  That worked for many people, but not for me.  I tried again as root (i.e., type "sudo" at the Terminal prompt before any other command -- in this case, "nautilus") and moved it instead to /usr/lib/mozilla/plugins, as one commenter on that instruction webpage suggested.  I also tried "sudo killall firefox."  Still no luck.<div>
</div><div>Here, for posterity, were a couple of random notes that I made while I was attempting this installation:</div><blockquote><div><filename>As root, set VM &gt; Settings. As root, in the VMs, type "/dev/audio" in place of "Auto Detect" in VM &gt; Settings &gt; Hardware &gt; Sound Card.

</filename></div><div>To install VMware Tools in a VM, first use VM &gt; Install VMware Tools. Then, in Windows Explorer, go to drive D and run Setup. May have to insert WinXP CD in the physical CD drive during this process. Better if you've copied the WinXP CD's i386 folder to the VM previously; can just point there for some installation files.</div></blockquote><div>At about this point, I gave up on trying to get VMware to work on that machine.  I turned instead to the machine where I had been running Ubuntu 8.04 with VMware Workstation for the past year.  I did an <a href="https://web.archive.org/web/20190906053803/http://raywoodcockslatest.blogspot.com/2009/05/installing-ubuntu-904-jaunty-jackalope.html">upgrade installation</a> of Ubuntu 9.04 on that machine and installed Workstation 6.5.2 there.  I used pretty much the approach described above.  The upgrade type of installation seemed to save a lot of steps, though; I went right into using Workstation without much delay at all.</div><div>
</div><div>I did continue to have a problem, in the new setup, that I had had on that same machine in Ubuntu 8.04.  The problem was that if I ran more than one VM at a time, the whole computer would crash when I tried to suspend or close on of them.  On the new installation, I didn't get crashes, but VMware became nonworking all the same.  I would just get a mostly blank white screen.  I couldn't figure out a solution, so I <a href="https://web.archive.org/web/20190906053803/http://communities.vmware.com/thread/221986;jsessionid=22EA1BAF79B9609C90C9BC4E1945FB9E?tstart=0">posted a question</a> on this problem.  </div><div>
</div><div>While I was waiting for someone to suggest an answer, it occurred to me that maybe I could open a separate session of VMware Workstation for each of my VMs.  In early testing, at this point, it appears that having eight sessions of Workstation open at once (even if nearly all of the VMs themselves are shut down or suspended) does degrade performance in any given VM.  I will be experimenting with how many VMs I can have open without too much of a performance penalty.  This approach does seem, so far, to solve the problem of Workstation crashing or becoming unresponsive.</div></p>
<div style="clear: both;"></div>
</div>

---
### Comments
