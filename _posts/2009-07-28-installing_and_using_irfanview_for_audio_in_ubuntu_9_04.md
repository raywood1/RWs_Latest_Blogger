---
layout: post
title: "Installing and Using IrfanView for Audio in Ubuntu 9.04"
date: 2009-07-28
---

<div class="post-body">
<p>I have an <a href="https://web.archive.org/web/20190906053802/http://raywoodcockslatest.blogspot.com/2009/07/review-olympus-ws-321m-digital-voice.html">Olympus VN-960PC</a> digital voice recorder (DVR).  It saves its recordings in compressed .wav format files.  When I listen to those recordings, I usually use <a href="https://web.archive.org/web/20190906053802/http://www.irfanview.com/">IrfanView</a> to listen to them.  I have been using IrfanView for years, and have found it to be markedly more useful and flexible than any other program for many image editing, audio listening, file viewing, and other multimedia tasks.  It is really amazing freeware.<div>
</div><div>I use IrfanView for this particular task because I have not yet found another program that allows me to move from one recording to the next so quickly.  I listen to the notes I have saved on the DVR; I highlight some of them, one by one, in Windows Explorer, and then I cut and paste the selected recordings to subfolders for further use.  I have developed the habit of beginning many of my recordings with a single word (e.g., "Monday" or "shopping"), so I know right away which folder it goes into.  Sorting a number of audio recordings this way is very fast.</div><div>
</div><div>IrfanView was a Windows-only program.  I could not find anything in the Linux world that could replace it, for my purposes, so I looked for ways to run it in Ubuntu.  One possibility, which I used for a long time, was to run it in a virtual machine <a href="https://web.archive.org/web/20190906053802/http://raywoodcockslatest.blogspot.com/2009/05/installing-vmware-workstation-652-on.html">in VMware Workstation</a> (or perhaps I could have used a <a href="https://web.archive.org/web/20190906053802/http://raywoodcockslatest.blogspot.com/2007/07/running-winxp-pro-in-vmware-virtual.html">freeware</a> virtualization program) on Ubuntu.  I was engaged in a long-term effort to move away from dependence on Windows, though, and sometimes virtual machines could be <a href="https://web.archive.org/web/20190906053802/http://raywoodcockslatest.blogspot.com/2009/05/installing-vmware-workstation-652-on.html">somewhat clunky</a>.  </div><div>
</div><div>Finally, at one point I reached a situation where I invested a bunch of time and still could not resolve a VMware audio problem.  This seemed to be the opportunity to try running IrfanView, a Windows program, in Ubuntu.  I planned to do so via <a href="https://web.archive.org/web/20190906053802/http://www.winehq.org/">Wine</a>, which (in that wacky Linux way) is short for "<a href="https://web.archive.org/web/20190906053802/http://www.winehq.org/myths">Wine is not an emulator</a>."  The <a href="https://web.archive.org/web/20190906053802/http://www.winehq.org/announce/1.0.1">stable release</a> of Wine at this point was 1.0.1, and that is the version that was available in Ubuntu's (System &gt; Administration &gt; ) Synaptic Package Manager.  I searched for wine in Synaptic, marked it, and clicked Apply.  It downloaded and installed the necessary stuff.  Next, following the steps I had researched when I had tried Wine <a href="https://web.archive.org/web/20190906053802/http://raywoodcockslatest.blogspot.com/2008/07/vmware-in-ubuntu-putting-it-all.html">a year earlier</a>, I proceeded as follows, typing these commands into Ubuntu's (Applications &gt; Accessories &gt; ) Terminal at the command prompt:</div><div>
</div><div>wget http://www.kegel.com/wine/winetricks</div><div>
</div><div>sh winetricks mfc42</div><div>
</div><div>Then, in Ubuntu's File Browser (Places &gt; Computer), I navigated to the folder where I had saved the downloaded IrfanView program.  This program was called iview425_setup.exe.  I copied the Location of this folder from the address bar at the top of File Browser and put it, between quotation marks, after a cd command in Terminal, as follows:</div><div>
</div><div>cd "/media/CURRENT/Miscellany/Installation/Programs"</div><div>
</div><div>and then I typed the Wine command to install IrfanView:</div><div>
</div><div>wine iview425_setup.exe</div><div>
</div><div>This gave me the regular IrfanView Setup dialog, just as if I had been installing it in Windows.  I told it to install a link on the desktop, and it did; but I could not get that link to run.  So I used cd again, to get to where it had been installed (cd "/home/ray/.wine/drive_c/Program Files/Irfanview", where "ray" was my username), and typed wine iv_uninstall.exe.  This removed everything except iv_uninstall.exe itself from that folder; I deleted that last file manually.</div><div>
</div><div>I decided to try an older, simpler version of IrfanView.  I went to <a href="https://web.archive.org/web/20190906053802/http://www.oldapps.com/irfanview.php">OldApps.com</a> and downloaded <a href="https://web.archive.org/web/20190906053802/http://www.oldapps.com/irfanview.php?old_irfanview=69#Download">IrfanView 3.0</a>.  Then, as above, I used cd to navigate to the place where the downloaded file was.  In this case, the program (after extraction from the downloaded .zip file) was named i_view32.exe, so I used that instead of iview425_setup.exe in the installation command presented above, as follows:</div><div>
</div><div>wine i_view32.exe</div><div>
</div><div>Unfortunately, this installer did not run at all.  About this time, I rediscovered Wine's reports on the various efforts people made to run different Windows programs under Wine.  In particular, I found the <a href="https://web.archive.org/web/20190906053802/http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=7834">reports on IrfanView</a>.  These, supplemented with the instructions and replies posted at <a href="https://web.archive.org/web/20190906053802/http://www.wine-reviews.net/wine-reviews/wine/irfanview-423-on-linux-with-wine.html">Wine-Reviews.net</a>, seemed to indicate that what I really needed was to use relatively recent versions of both Wine and IrfanView.</div><div>
</div><div>To get a version of Wine more recent than the one that was available in Synaptic (above), I had to modify Synaptic.  That is, I had been using Synaptic out of the box, the way it came in the original Ubuntu installation; but Synaptic could be configured to look in additional places for more software.  In this case, I wanted it to look in the WineHQ repository.  So I went back into Synaptic and clicked on Settings &gt; Repositories &gt; Third-Party Software &gt; Add.  In the APT line box, following <a href="https://web.archive.org/web/20190906053802/http://www.winehq.org/download/deb">the WineHQ instructions</a> for Ubuntu 9.04, I typed this:  </div><div>
</div><div>deb http://wine.budgetdedicated.com/apt jaunty main #WineHQ</div><div>
</div><div>Then I clicked on Add Source.  Next, while still there in Software Sources, I went to the Authentication tab and clicked on Import Key File.  I didn't have the key file yet, so I had to go to the webpage that they call <a href="https://web.archive.org/web/20190906053802/http://wine.budgetdedicated.com/apt/Scott%20Ritchie.gpg">Scott Ritchie's Key</a> to get it.  I saved that page (in Firefox, the command is File &gt; Save Page As).  Its default name was Scott Ritchie.gpg, so I accepted that.  So now, back in the Software Sources &gt; Authentication &gt; Import Key File window, I navigated to where I had saved Scott Richie.gpg and selected it.  Then I clicked on Close &gt; Close.  Now, back in Synaptic, I clicked Reload.  I could have done a Quick Search, there in Synaptic, to see that Wine now needed to be updated; but I decided instead to update everything on my system that might need to be updated at that point.  So I closed Synaptic and went to System &gt; Administration &gt; Update Manager and installed everything it had for me.</div><div>
</div><div>Normally, it can be more convenient and/or easier to remember one's way around by using the Graphical User Interface (GUI), as just described.  In this case, though, for some reason the whole thing about Scott Ritchie was a little weird and hard to remember (though not Scott Richie himself, oh, no, we'll never forget ol' Scott), and I would probably have found it simpler just to copy and paste these lines into Terminal from the bottom of the <a href="https://web.archive.org/web/20190906053802/http://www.winehq.org/download/deb">WineHQ instructions page</a>:</div><div>
</div><div>wget -q http://wine.budgetdedicated.com/apt/387EE263.gpg -O- | sudo apt-key add -</div><div>
</div><div>sudo wget http://wine.budgetdedicated.com/apt/sources.list.d/jaunty.list -O /etc/apt/sources.list.d/winehq.list</div><div>
</div><div>sudo apt-get update</div><div>
</div><div>sudo apt-get install wine</div><div>
</div><div>but whatever.  It was done, and I had my other updates to boot.  Plus, I got a free opportunity to screw around with Synaptic.  (Later, I discovered that I <a href="https://web.archive.org/web/20190906053802/http://wiki.winehq.org/HowTo">should have uninstalled</a> the older version of Wine first.  I also discovered that apparently I should have been doing my work in <a href="https://web.archive.org/web/20190906053802/http://ubuntuforums.org/showthread.php?t=1210308">a folder dedicated to Irfanview</a>.)  Now, at any rate, I had some more recent version of Wine installed.  To see which one, I went back into Synaptic and searched for Wine again.  It was 1.1.26.  This was more bleeding-edge than the 1.1.14 that they had used in that Wine-Reviews article.  I wasn't sure how to get back to 1.1.14, though, and anyway that was a half-year earlier, and they were using Ubuntu 8.04, so maybe this was better for my purposes.  <a href="https://web.archive.org/web/20190906053802/http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=7834">The Wine-HQ report</a> indicated that Sven Plaga had just recently used 1.1.25 with great success.  The version of IrfanView that Sven had used was apparently 4.25.  He had used it with a beta release of Ubuntu 9.10, which I wasn't up to yet; but if it worked now, I figured that might defer whatever updating I might otherwise have to do later.</div><div>
</div><div>So now I tried again to install IrfanView on this newer version of Wine.  I had already done the whole winetricks and mfc42.dll routine (above), so this simplified the process for me.  Following the Wine-Reviews and Wine-HQ instructions and comments (with some help from some older <a href="https://web.archive.org/web/20190906053802/https://help.ubuntu.com/community/Wine/IrfanView">Ubuntu Community Documentation</a>), I repeated the foregoing steps of navigating to the folder where I had stored iview425_setup.exe, and then I typed this:</div><div>
</div><div>wine iview425_setup.exe</div><div>
</div><div>The installer ran, but again I couldn't get IrfanView to start.  This time, though, it was not surprising.  According to the instructions, I next needed to go into the installation directory (in my case, /home/ray/.wine/drive_c/Program Files/IrfanView) and delete the i_view32.ini file.  The comments indicated that IrfanView would replace it with a simpler i_view32.ini that would cause no problems.  I had forgotten to download and install the <a href="https://web.archive.org/web/20190906053802/http://irfanview.com/">IrfanView plugins</a>, so I did that now:</div><div>
</div><div>wine irfanview_plugins_425_setup.exe</div><div>
</div><div>Now I had an embarrassment of riches, in terms of IrfanView launchers.  There were three different Ubuntu icons on my desktop, and they all worked.  I deleted the two that didn't have the Ubuntu red cat (or whatever that is) on them.  I also saw that Wine had installed itself as an option under Applications on the Ubuntu menu, and under Wine &gt; Programs I had an IrfanView menu plus an apparent freebie, a link to an actual working copy of Notepad.  </div><div>
</div><div>The key question, now, was whether IrfanView would now function in Ubuntu as it had functioned in Windows, for purposes of listening to and moving through .wav files.  I went into IrfanView's Options &gt; Properties and adjusted the settings to my preference.  Then I double-clicked on an audio file . . . and watched it open in Totem Movie Player.  OK, so this was my opportunity to learn how to set the default application program in Ubuntu.  I started to Google for some guidance, and then I realized this was probably somewhere under System &gt; Preferences - and, sure enough, there it was:  Preferred Applications.  I went to Multimedia and indicated that I wanted to use a Custom multimedia player.  I right-clicked on the IrfanView desktop icon and went into its Properties &gt; Basic tab.  I copied its Command line to Terminal, to try it out.  It worked:  IrfanView started.  So then I copied that same command line into the Multimedia command box.  But either way, with or without the "Run in terminal" box checked, it didn't default to IrfanView; I was still getting Totem.  So yes, I had to <a href="//web.archive.org/web/20190906053802/https://www.google.com/search?hl=en&amp;q=ubuntu+irfanview+%22default+application%22&amp;sourceid=navclient-ff&amp;rlz=1B3GGGL_enUS318US318&amp;ie=UTF-8">Google the question</a> after all.  The answer was easy enough (apparently a lot easier than it had been <a href="https://web.archive.org/web/20190906053802/http://ubuntuforums.org/archive/index.php/t-816869.html">a year earlier</a>):  right-click on a .wav file and select Properties &gt; Open With &gt; IrfanView &gt; Close.</div><div>
</div><div>Ah, but now, when I double-clicked on a .wav file, I got an error message:</div><div><blockquote>Error:  Windows can't play this file!  Windows error text: Invalid MCI device ID. Use the ID returned when opening the MCI device..  You can try to install additional video/audio codecs from this site:  http://www.fourcc.org/indexcod.htm or try the DirectShow option in Properties-&gt;Video.</blockquote></div><div>Weird thing:  I got that same error message three or four times in a row.  I'd click OK, and there it would be again.  And then, when it stopped, I got a little "No Device" window and the audio file played after all.  But then that No Device window wouldn't go away; I had to kill IrfanView to banish it.  I went into IrfanView's Properties and tried clicking the DirectShow option as advised.  Same result.  Seeking truth, I went back to Google.  And I could tell that I was at last getting close to the truth indeed, because this time <a href="//web.archive.org/web/20190906053802/https://www.google.com/search?hl=en&amp;safe=off&amp;rlz=1B3GGGL_enUS318US318&amp;num=50&amp;newwindow=1&amp;q=%22no+device%22+ubuntu+irfanview+error&amp;aq=f&amp;oq&amp;aqi">my search</a> turned up only a small number of results, none of which seemed relevant.  Fortunately, I was able to <a href="//web.archive.org/web/20190906053802/https://www.google.com/search?hl=en&amp;safe=off&amp;rlz=1B3GGGL_enUS318US318&amp;num=50&amp;newwindow=1&amp;q=ubuntu+irfanview+error+DirectShow+9.04+OR+jaunty&amp;aq=f&amp;oq&amp;aqi">revise my search</a> into something even less helpful.  As the day drew to a close, I <a href="https://web.archive.org/web/20190906053802/http://appdb.winehq.org/objectManager.php?sClass=version&amp;iId=7834">posted a question</a> on this at Wine-HQ.  Someone there suggested that I should post it as a bug in Wine, so I did that.  I didn't know how long it would take them to address and resolve this bug, if that's what it was, so I decided it was time to post this message as-is and think about other ways of getting Irfanview to work.</div></p>
<div style="clear: both;"></div>
</div>

---
### Comments
**raywood**:
I updated this investigation with additional information in another post.  See http://raywoodcockslatest.blogspot.com/2009/07/other-virtualization-solutions-to-play.html

