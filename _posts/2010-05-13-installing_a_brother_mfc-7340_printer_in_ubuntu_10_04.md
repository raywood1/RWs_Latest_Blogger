---
layout: post
title: "Installing a Brother MFC-7340 Printer in Ubuntu 10.04"
date: 2010-05-13
---

<div class="post-body">
<p><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">I was installing Ubuntu 10.04 (Lucid Lynx) on a desktop computer.  I wanted to get my Brother MFC-7340 printer working from within Ubuntu.  I had not been able to make it work with Ubuntu 9.10, but now I had found a post where <a href="https://web.archive.org/web/20190906053657/http://wwww.ubuntuforums.org/showthread.php?t=1459926">mdgrech described</a> how it could be done.  The steps I took were as follows:</div><blockquote>sudo -i</blockquote><blockquote>aa-complain cupsd</blockquote><blockquote>mkdir /usr/share/cups/model</blockquote><blockquote>mkdir /var/spool/lpd</blockquote><blockquote>apt-get install sane-utils</blockquote><blockquote>apt-get install psutils</blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">It puzzled me that mdgrech’s link led to the LPR driver for the MFC-7420.  I suspected he knew exactly what he was doing; but just in case that was a mistaken link, I went to the <a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/index.html">Brother Linux driver download page</a> and downloaded the <a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/download_prn.html#MFC-7340">Debian LPR driver for the MFC-7340</a> instead.  This gave me a file called brmfc7340lpr-2.0.2-1.i386.deb.  To install the LPR driver, <a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/instruction_prn3.html">Brother advised</a> using CUPS if it was working on my system.  I wasn’t sure if it was.  <a href="https://web.archive.org/web/20190906053657/https://wiki.ubuntu.com/Testing/EC2/TestCases">I was advised</a> to try this:  “sudo /etc./init.d/cups status.”  That said “cupsd is running.”  Now what?  I followed the links to the <a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/instruction_prn1a.html">Cupswrapper Driver Install page</a>.  There, I had to follow certain “<a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/before.html#002">pre-required procedures</a>.”  These appeared to be more or less the steps that mdgrech had already had me take (above).  So apparently he had used the CUPS approach too.  Encouraged, I continued along this CUPS route.  There was some disagreement on the next step.  Brother said that I should turn on the printer and connect it to the computer now; mdgrech seemed to say I should install the driver first.  I wound up not connecting the printer until later.  Meanwhile, it seemed that I would need to be installing the cupswrapper driver as well as the LPR driver, so I went back to <a href="https://web.archive.org/web/20190906053657/http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/download_prn.html#MFC-7340">the download page</a> and did that.  This gave me a download called cupswrapperMFC7340-2.0.2-1.i386.deb.  The next steps were to navigate to the folder where I had downloaded brmfc7340lpr-2.0.2-1.i386.deb and then type these commands:</div><blockquote>dpkg -i --force-all brmfc7340lpr-2.0.2-1.i386.deb</blockquote><blockquote>dpkg -i --force-all cupswrapperMFC7340-2.0.2-1.i386.deb</blockquote><blockquote>dpkg -l | grep Brother</blockquote><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">The next step was to go to <a href="https://web.archive.org/web/20190906053657/http://localhost:631/printers">http://localhost:631/printers</a>.  It showed the printer.  So now I did turn on the printer and plug in the USB cable.  (Note that there are slightly different instructions if your connection is ethernet.)  Ubuntu saw the printer, but gave me a “Missing printer driver” note in the upper right corner of the screen, and then said “Searching for available drivers.”  Eventually it gave me a New Printer dialog.  </div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Note:  mdgrech had advised, instead, to go to <a href="https://web.archive.org/web/20190906053657/http://localhost:631/admin">http://localhost:631/admin</a>, select Add printer, choose Brother MFC-7340, choose “Another Make/Manufacturer,” select the MFC-7340, and click Add Printer.  Since I had gone to <a href="https://web.archive.org/web/20190906053657/http://localhost:631/printers">http://localhost:631/printers</a> as Brother advised, I was now at the New Printer dialog, so I proceeded from there.  I selected “Select printer from database” (with Brother highlighted) &gt; Forward &gt; MFC7340 for CUPS &gt; Brother MFC7340 for CUPS [en] (recommended) &gt; Forward.  I went with the defaults in the “Describe Printer” dialog &gt; Apply.  I printed a test page.  It worked!</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">There was one other thing I needed to check.  On this Ubuntu machine, I was running Windows XP in a virtual machine in VMware, and had previously tried to install the MFC-7340 from there.  I still had it listed as a printer.  So I went into VMware at this point and tried printing from there.  The print job queued up, but it didn’t print.  I ran Brother’s Installation Diagnostics software, there in Windows XP, and it reported failure:  “Cannot communicate with the machine.”  I went into Start &gt; Settings &gt; Printers and Faxes (right-click) &gt; right-click on the Brother MFC-7340 Printer &gt; Properties &gt; Ports tab.  I checked the box next to the USB003 port, which was the only port that specifically referred to the Brother MFC-7340.  I clicked OK and tried printing again.  Once again, it queued but did not print.  Then it occurred to me that, of course, I would have to go into VMware’s VM &gt; Removable Devices.  There, sure enough, I saw “Brother Printer.”  I clicked Connect.  The queue dialog said, “Printing,” and then it did print.</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br/>
</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"></div><div class="MsoNormal">The other thing I really wanted to be able to do with the Brother MFC-7340 was to scan.<span style="mso-spacerun: yes;">  </span>This appeared to be an entirely different process, so I started <a href="https://web.archive.org/web/20190906053657/http://raywoodcockslatest.blogspot.com/2010/05/scanning-functionality-for-brother-mfc.html">another post</a> for that.  Otherwise, with this step finished, I returned to the project of tweaking Ubuntu 10.04, as described in <a href="https://web.archive.org/web/20190906053657/http://raywoodcockslatest.blogspot.com/2010/05/tweaking-ubuntu-1004.html">a separate post</a>.</div></p>
<div style="clear: both;"></div>
</div>

---
### Comments
**Anonymous**:
Thanks for doing this. I Have upgraded to ubuntu 10.10 and have found that my Brother DCP-7030 is no longer working. I tried a similar approach, but without any luck. I am able to print with a DCP-7010 driver, however for scanning, no longer working.

**Gino**:
Thank you soooo much!!!!!

**Peter**:
Thanks so much Ray, I am switching from Win to Ubuntu, but couldn't get my 7340 printer to work. It was so annoying that I wanted to buy a new printer.Thanks to your instructions (and about 4 attempts to get it right) I'm able to print from Ubuntu 11.04Just so folks know I use a Netgear ps121 print server. I used the CUPs web interface to set up the new printer so my setting was:lpd://192.168.0.5/PSD2D8D2And I had to browse for my PPD file as the presented one didn't work (had FAX in its name).

