---
layout: post
title: "Ubuntu 9.10:  Mounting and Dismounting Blues"
date: 2010-03-20
---

<div class="post-body">
<p>I was using a couple of external USB drives with Ubuntu 9.10 (Karmic Koala).  I found the easiest way to switch them between computers was to wait until they were inactive and then yank the USB cord from one machine and plug it into another.  This had worked pretty well, but then I got this error message:<br/>
<div><blockquote>Unable to unmount DAILY</blockquote><blockquote>umount:  /media/DAILY mount disagrees with the fstab</blockquote></div><div>This seemed to have been related to <a href="//web.archive.org/web/20190906053711/https://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;safe=off&amp;client=firefox-a&amp;hs=6WL&amp;rlz=1R1GGGL_en___US333&amp;q=%22mount+disagrees+with+the+fstab%22+bug&amp;btnG=Search">some kind of bug</a>.  I got this after a previous error message:</div><div><blockquote>Could not display "/media/DAILY".</blockquote><blockquote>Error:  error stating file '/media/DAILY': Input/output error</blockquote><blockquote>Please select another viewer and try again</blockquote></div><div>DAILY was a manually created folder in /media.  I couldn't figure out how to delete it either:  it wasn't visible in "sudo nautilus" and there wasn't an option to delete it in ordinary Nautilus.  <a href="https://web.archive.org/web/20190906053711/http://gaarai.com/2009/02/07/forcing-a-device-to-unmount-in-ubuntu-linux/">Chris Jean</a> fixed a similar problem with this kind of command:</div><blockquote>sudo fuser -km /media/DAILY</blockquote><div>This seemed like a reasonable command, given some basic information about <a href="https://web.archive.org/web/20190906053711/http://manpages.ubuntu.com/manpages/karmic/man1/fuser.1.html">the fuser command</a>, so I closed down everything else and tried that.  I got this response:</div><blockquote>Cannot stat /media/DAILY:  Input/output error</blockquote><div>I <a href="//web.archive.org/web/20190906053711/https://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;safe=off&amp;client=firefox-a&amp;hs=SPg&amp;rlz=1R1GGGL_en___US333&amp;q=%22cannot+stat%22+%22input/output+error%22+ubuntu+9.10+OR+karmic&amp;btnG=Search">looked that up</a>.  It didn't seem to be a very common problem.  Several of the entries that came up in that search referred to GRUB, but I wasn't sure what to make of that.  <a href="https://web.archive.org/web/20190906053711/http://www.uluga.ubuntuforums.org/showpost.php?p=8929260&amp;postcount=3">Charles A</a> said the input/output error usually means that a drive is going bad.  Going from something else he said, I did <a href="//web.archive.org/web/20190906053711/https://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;safe=off&amp;client=firefox-a&amp;hs=3Tg&amp;rlz=1R1GGGL_en___US333&amp;q=mount+ntfs+uuid+ubuntu+9.10&amp;btnG=Search">a search</a> for how to mount an NTFS drive by using its UUID.  <a href="//web.archive.org/web/20190906053711/https://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;safe=off&amp;client=firefox-a&amp;hs=3Tg&amp;rlz=1R1GGGL_en___US333&amp;q=mount+ntfs+uuid+ubuntu+9.10&amp;btnG=Search">Ganesh</a> suggested "sudo fdisk -l" to see if DAILY was connected.  It did not appear to be . . . because it wasn't.  I had just pulled out its USB cable a few minutes earlier and had neglected  to plug it back in.  I did that, but now I got this:</div><div><blockquote>Unable to mount DAILY</blockquote><blockquote>Error mounting: mount exited with exit code 1: helper failed with:</blockquote><blockquote>mount: according to mtab, /dev/sdf5 is already mounted on /media/DAILY</blockquote><blockquote>mount failed</blockquote></div><div>I typed "df" and saw that DAILY was mounted at /dev/sdf5.  I clicked on DAILY in Nautilus and got the "Could not display '/media/DAILY'" error shown above.  I got <a href="https://web.archive.org/web/20190906053711/http://ubuntuforums.org/showthread.php?t=970184">an indication</a> that this was, again, a bug.  I decided to reboot.  That fixed everything for the time being.<br/>
<br/>
Later, I took a different approach.  As advised in an <a href="https://web.archive.org/web/20190906053711/https://help.ubuntu.com/community/Mount/USB">Ubuntu community document</a>, I installed pmount in Synaptic.  The recommended syntax was "pmount /dev/sdb5 DRIVE," where any available location could be used in lieu of sdb5 and where DRIVE is the name of the partition.  If just the drive name is used like this, it will be mounted by default at /media/DRIVE.  But, oops, I mounted it as root, when the whole purpose of pmount was to make it possible for a non-root user to mount a drive.  So I unmounted, typed "exit" to get out of the root prompt, and tried again:  "pmount /dev/sde5 WEEKLY."  Unfortunately, it hung.  I wondered if it was because I had already mounted and disconnected (without unmounting) a device at sde5.  Maybe I needed to use the largest previously unused letter.  I killed Terminal, unplugged and replugged the USB cable on the drive, and as a user in a new Terminal session I typed "df -h" to see what was available.  I already had something mounted as sdf5, so I tried "pmount /dev/sdg5 WEEKLY."  This gave me "device /dev/sdg5 does not exist."  It took me quite a while to discover that, actually, I had not plugged the drive back in after all.  Now it mounted as "WEEKLY_" with an underscore at the end; and when I tried "umount /media/WEEKLY," I got "/media/WEEKLY is not mounted (according to mtab)."  So, OK, I pulled the USB plug, typed "sudo nautilus," went into File System/media, right-clicked, and moved WEEKLY to trash.  I replugged the USB, killed sudo-Nautilus, and at a user prompt typed "df -h" and saw that WEEKLY had reclaimed its old post at /dev/sdd5.  Now it seemed to be working OK.  Later, when I tried using pmount another time, I got some errors, like this:<br/>
<blockquote>Error: directory /media/[directory name] is not empty</blockquote><blockquote>Error:  device /dev/sdf1 does not exist</blockquote><div style="margin: 0px;">I looked at <a href="https://web.archive.org/web/20190906053711/http://linux.die.net/man/1/pmount">a more detailed pmount documentation page</a> and saw that /dev/sd?? had to be a "block device in /dev."  <a href="https://web.archive.org/web/20190906053711/http://ubuntuforums.org/showpost.php?p=7800997&amp;postcount=2">A forum post</a> told me that I could identify my system's block devices by typing "sudo fdisk -l."  (That's an L, not a one.)  This sobered me up on the question of what my /dev options were.  I really had only one choice as to where to mount the drive, and when I tried pmount there, I got "Error: device /dev/sde5 is already mounted to /media/[partition name]."<br/>
<br/>
(Having run out of time to fiddle with this, I left this post as a draft at that point.  I believe this problem ultimately got solved by a reinstallation.  No further comments on this issue here.)</div></div></p>
<div style="clear: both;"></div>
</div>

---
### Comments
