---
layout: post
title: "Acronis True Image Home 2011:  Restoring Windows 7 to RAID 0:  FAIL"
date: 2011-01-10
---

<div class="post-body">
<p>I had installed Windows 7 on a regular hard drive -- what Win7 calls a "basic" drive.  I had made an image using Acronis True Image Home 2011 (ATIH).  Now I was trying to restore that image -- using the ATIH Universal Restore feature installed by the Acronis Plus Pack -- to a new, empty software RAID0 array that I had just created in Windows 7.  This post describes my efforts.<br/>
<br/>
For perspective, I could perhaps restore an image of a Windows 7 installation onto<a href="https://web.archive.org/web/20120326212604/http://social.technet.microsoft.com/Forums/en/w7itproinstall/thread/e8f253b1-25a3-4d91-8177-e31ca4bbd404"> a hardware RAID0 array</a>, and I might be able to restore an Acronis image of a RAID0 array to <a href="https://web.archive.org/web/20120326212604/http://www.overclock.net/hard-drives-storage/718649-acronis-true-image-2010-raid-0-a.html">a non-RAID partition</a>.  <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/11681">Acronis promised</a> that the Plus Pack would enable me to restore to a striped software RAID0 array.  But now that I had made the purchase, <a href="https://web.archive.org/web/20120326212604/http://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;qscrl=1&amp;q=%22Windows+7%22+Acronis+striped+OR+%22to+RAID0%22+OR+%22to+RAID+0%22&amp;btnG=Search&amp;aq=f&amp;aqi=m1&amp;aql=&amp;oq=&amp;gs_rfai=">a search</a> led to <a href="https://web.archive.org/web/20120326212604/http://superuser.com/questions/62925/how-do-i-convert-a-windows-7-ultimate-install-to-raid-0">a thread</a> suggesting that the promise was false.<br/>
<br/>
Here's how the effort unfolded.  After booting the ATIH CD, I went into Recover My Disks &gt; Browse (wait) &gt; select the .tib file to restore (or, in my case, the first of the five DVD-sized files comprising the backup).  I went on, OK, Next, and came to "Recover whole disks and partitions" and "Use Acronis Universal Restore."  It gave me the option of adding device drivers.  On the assumption, at that point, that drivers were not necessary in a software array, I clicked Next.  I indicated the partition I wanted to recover, and specified New Location as the dynamic volume that I had created for this purpose.  (Dynamic volumes were listed at the bottom of the screen -- I had to scroll to see them all.)  I clicked Next, and here is the message I got:<br/>
<blockquote>You are about to recover a partition containing OS files.  If the recovery destination is an existing non-active dynamic volume, then the system will be unbootable because activation of dynamic volumes is not supported.  Are you sure you want to continue?</blockquote><a href="https://web.archive.org/web/20120326212604/http://www.google.com/search?client=ubuntu&amp;channel=fs&amp;q=%22Activation+of+dynamic+volumes+is+not+supported%22+Acronis&amp;ie=utf-8&amp;oe=utf-8">I searched</a> and found only a few links containing that statement about activation.  <a href="https://web.archive.org/web/20120326212604/http://forum.acronis.com/forum/7672#comment-38433">A post</a> by an Acronis employee in an Acronis forum said, "The issue will be resolved in a future update of our software."  To see if the most recent update had resolved it, I went to <a href="https://web.archive.org/web/20120326212604/http://www.acronis.com/support/index.html">the Acronis site</a> and downloaded the latest build of ATIH.  I was doing this from an Ubuntu live CD, so I had to save the download (an .exe file) to a USB drive and jump it over to my laptop, running Vista, to install the .exe so I could burn an updated CD that would hopefully have better news for me in terms of restoring to a Win7 RAID0 array.  This was a lot of fooling around.<br/>
<br/>
While that was happening, I went ahead with the next step, using my present copy of ATIH.  Alas, a new error:<br/>
<blockquote>There may not be enough free space on the system partition to boot up your operating system after recovery.</blockquote>This was an odd message.  I had two 50GB partitions in my new RAID0 array.  The backup I had made was from just one partition of either 40GB or 50GB.  I clicked OK there and Acronis stopped.  It didn't try to see whether the restore would fit.  Evidently it was not set up to think in terms of RAID0 arrays.<br/>
<br/>
I guessed that even the updated ATIH would not try to fix this.  But it was going to be a while before I could find out for sure.  The installation on the laptop was taking its sweet time.  After seemingly completing most of the installation, it aborted with this message:<br/>
<blockquote>Installation Incomplete<br/>
<br/>
The installation was interrupted before Acronis True Image Home 2011 could be installed.</blockquote>I didn't know who or what interrupted it.  The laptop was just sitting off to the side, doing its own thing.  I wasn't touching it.  I tried again.  Now I got a new error message:<br/>
<blockquote>The error was encountered while the installation.</blockquote>That's really it.  That was what the message said.  It provided technical details that I didn't understand.  Toward the bottom, it said, "A possible reason might be that you do not have enough privileges."  OK, Vista.  Even though I was running as Administrator on the laptop, that was not enough, and possibly the good people at ATIH couldn't have noticed that until we were at the end of the installation process.  I was unfortunately not knowledgeable enough about the solution and was quite tired and not very patient with the idea of researching that question in order to resolve this tangent from a tangent.<br/>
<br/>
I gave up on that Vista errand and just installed the upgraded ATIH on a Windows XP machine.  No permissions issues.  The upgrade took a while, but then it was successful.  Now I needed to remember how to install the Plus Pack.  <a href="https://web.archive.org/web/20120326212604/http://raywoodcockslatest.blogspot.com/2010/10/acronis-true-image-plus-pack-converting.html">My previous post</a> about Plus Pack led me to an Acronis <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13634">instructions webpage</a>.  The basic process seemed to be to install ATIH, install the Plus Pack, and then go into the new Start Menu entry for Plus Pack and click on Acronis WinPE ISO Builder.  That required me to "Specify a path to the folder with the WinPE files."  A search for that exact statement yielded only a post where someone was trying to combine ATIH and Acronis Disk Director on one CD.  <a href="https://web.archive.org/web/20120326212604/http://www.google.com/search?num=50&amp;hl=en&amp;newwindow=1&amp;q=%22Acronis+True+Image+Home+2011%22+WinPE+%22Plus+Pack%22&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=&amp;gs_rfai=">A different search</a> led to <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13641">an Acronis page</a> instructing me to download the Windows 7 Automated Installation Kit (AIK) <a href="https://web.archive.org/web/20120326212604/http://www.microsoft.com/downloads/en/details.aspx?familyid=696DD665-9F76-4177-A811-39C26D3B3B34&amp;displaylang=en">from Microsoft</a>.  This was a 1.7GB download.  Was this really what people had to do if they wanted to use Acronis Universal Restore?<br/>
<br/>
I went back to the search and tried a different <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13644">Acronis page</a>.  This page said that Plus Pack had three benefits, and it pointed me to three separate webpages describing those benefits:  it would <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/6533">support dynamic drives</a> and GUID partition tables (GPT); it would <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13671">facilitate Universal Restore </a>between dissimilar hardware, including virtual machines; and the WinPE part would create <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13641">bootable rescue media</a>.  The page on dynamic drives led to a page on <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/11681">RAID support</a>, cited above, that led in turn to <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/11339">a table</a>, summarizing the kinds of RAID support provided by various versions of Windows.  It said that ATIH Plus Pack supported restoring to RAID0.<br/>
<br/>
The page regarding Universal Restore said that it would work only if "You have created Acronis Bootable Media (standard, WinPE, or BartPE) after the installation of Acronis True Image Home 2011 Plus Pack."  So apparently there were three different kinds of Acronis bootable media.  To see more about that, I went back into the Start Menu, on the XP machine where I had just installed ATIH, and chose the option to start up ATIH.  In its main screen, I went to "Create bootable media."  So this was going to give me the standard variety.  I burned it to a CD.  Much easier than creating WinPE media.<br/>
<br/>
With that CD, I was ready for the next step.  <a href="https://web.archive.org/web/20120326212604/http://kb.acronis.com/content/13671">Acronis said</a> that I would need drivers for the hard drive controller or the chipset, in .inf, .sys, or .oem forms -- extracted, if necessary, from .exe, .cab, or .zip files.  <a href="https://web.archive.org/web/20120326212604/http://raywoodcockslatest.blogspot.com/2010/10/acronis-true-image-plus-pack-converting.html">The last time</a> I had played with Acronis Universal Restore, I hadn't understood this driver situation and, as I dimly recalled, part of the problem was that I didn't know which drivers I should get and how I should extract them.  It was clearer to me, now, that there was no getting around it:  I had to have exactly the right drivers.  I have written up that pursuit in <a href="https://web.archive.org/web/20120326212604/http://raywoodcockslatest.blogspot.com/2011/01/acronis-universal-restore-getting.html">a separate post</a>, for those whom it puzzles as it puzzled me.<br/>
<br/>
Not to say that I came to a clear understanding.  I just made a stab at it.<br/>
<br/>
With the drivers collected in a folder, I booted the Universal Restore CD.  When I got to the Drivers Manager step, I clicked Add Search Path and pointed to that folder.  Oddly, when I did, Acronis reported, "No items to display," even though I had just put 16 driver files in there.  I guessed that this meant it had not refreshed its view at that point.  It did not have an option to do so.  I proceeded to designate what I wanted to restore and where I wanted to restore it.  Once again, sadly, I got that error message indicating that "activation of dynamic volumes is not supported," followed by that error indicating that there might not be enough space to boot the operating system after recovery, and once again that was the end.<br/>
<br/>
The working conclusion, at this point, was that ATIH did not support Windows 7 programs partitions in RAID0.  I could install Win7 manually in that kind of partition, and perhaps I could use ATIH to back up a manual installation, but I could not use ATIH to restore any such backup to that location.<br/>
<br/>
I clicked on the Help button in Acronis and browsed its contents, to see if I could get a clearer idea about all this.  They didn't seem to have any information on it.  I <a href="https://web.archive.org/web/20120326212604/http://forum.acronis.com/forum/17860">posted a question</a> about this on an Acronis forum.  Responses to that question tentatively supported the working conclusion that ATIH does not restore images to Win7 software RAID0 arrays.</p>
<div style="clear: both;"></div>
</div>

---
### Comments
**Anonymous**:
Cheers Ray.I've just came to know about your adventure on Windows RAID through the Acronis forums and this blog too. BTW, thank you for this report as it's full of valuable information.I've posted there on Acronis forums and I'm wondering if you did try to set up the Software RAID before the Windows7 install and if you ever tried to backup/restore a system disk/partition.

**raywood**:
Thanks for your comment.  Yes, I did have the Win7 software RAID0 array set up before installing Win7.  I used Win7 on a third drive to create the two-drive array, and then tried to restore previous Win7 and Acronis backups to it.  No joy.  Didn't get as far as trying to back up the RAID0 programs partition because I wasn't able to get anything on it.  Could have installed there manually, but decided not to, given the inability to restore a backup to that location.

**Duarte Bruno**:
That's a shame and also wrongful advertising to sell the ATIH Plus Pack as a solution for backup/restore of RAID 0 drives when it doesn't work for bootable partitions.If I was to rely on the OS RAID to backup/restore those disks, I might as well do it in any archiving tool like Zip, Rar, etc because I can't see any benefit from ATIH Plus.Thanks again for the report.

**Duarte Bruno**:
Apparently  you can't have the Windows partition to be a Software Raid 0.Back to basics then...Perhaps in a not so distant future Gigabyte comes up with another Mini-ITX MB with support for RAID. Then I can have Windows 7 running in a SSD Raid 0.It's crazy to read all about this project of yours, as the possibilities you have explored would also be on my short list. Your issues with W7 not booting and AHCI have been on my hurdles list early this week.Besides W7 starting slower on AHCI (22s) than IDE (18s) and the Performance Index also suffers at 5.9 (AHCI) when compared to 7.1 (IDE) add insult to injury after switching to AHCI I can't access the BIOS anymore as the DEL key won't let me in... :(Back to basics it is.

**raywood**:
There is another possibility.  Look at my recent post on native VHD booting:  http://raywoodcockslatest.blogspot.com/2011/01/windows-7-native-virtual-hard-disk-vhd.html

